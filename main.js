(()=>{"use strict";const e=async function(e,t){const n=await async function(e,t){return(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&APPID=8d838cab2623bf0e4ccf3c4d32eab7bb`,{mode:"cors"})).json()}(e,t);return function(e){if("404"===e.cod)throw new Error("City not found");const t=e.name,{country:n}=e.sys,{temp:i}=e.main,r=e.weather[0].main;return{city:t,country:n,temp:i,weather:r,keyword:r}}(n)},t=async function(e){const t=await async function(e){return(await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ieAImKLCMr3MRyKct42s8BMVBEdSgL0A&s=${e}`,{mode:"cors"})).json()}(e);return function(e){return e.data.images.original.url}(t)},n=/^[a-z]{2}$/i;const i=function(e,t,n){e.innerText="";const i=document.createElement("form");e.appendChild(i);const r=document.createElement("label");i.appendChild(r),r.innerText="City: ";const o=document.createElement("input");r.appendChild(o),o.setAttribute("name","city"),o.toggleAttribute("required");const a=document.createElement("div");i.appendChild(a),a.className="unit-wrapper";const c=document.createElement("label");a.appendChild(c),c.innerText="Units: ";const s=(e,t,n,i)=>{const r=document.createElement("label");a.appendChild(r),r.innerText=e,r.style.setProperty("grid-column","2/3"),r.className="radio-label";const o=document.createElement("input");return r.appendChild(o),o.setAttribute("type","radio"),o.setAttribute("name",n),o.value=t,i&&o.toggleAttribute("checked"),[r,o]},[d,u]=s("Celcius","metric","units",!0),[l,m]=s("Farenheit","imperial","units",!1),p=document.createElement("input");i.appendChild(p),p.setAttribute("type","submit"),p.value="Submit",p.addEventListener("click",(e=>{if(!o.validity.valid)return!1;e.preventDefault();const t=new FormData(i);n(t.get("city"),t.get("units"))}))},r=function(e,t){t.innerText="";const n=document.createElement("div");t.appendChild(n),n.className="error-box",n.innerText="Now Loading..."},o=function(e,t,i,r){t.innerText="";const o=function(e){if(!n.test(e)){const t=typeof e;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===t?e:t}' instead.`)}const t=[...e.toUpperCase()].map((e=>e.codePointAt()+127397));return String.fromCodePoint(...t)}(i.country),a=document.createElement("div");t.appendChild(a),a.innerText=`${i.city} ${o}`;const c=document.createElement("div");t.appendChild(c),c.innerText=i.temp;const s=document.createElement("div");t.appendChild(s),s.innerText=i.weather,r.then((e=>{console.log("image to load: ",e);const n=document.createElement("img");t.appendChild(n),n.setAttribute("src",e),n.setAttribute("alt",`Image of ${i.weather}`)}))},a=function(e,t,n){t.innerText="";const i=document.createElement("div");t.appendChild(i),i.className="error-box",i.innerText="Failed to find results. Please check your inputs and try again"},c=document.querySelector("#dom-inputs"),s=document.querySelector("#dom-outputs");i(c,s,((n,i)=>{r(c,s),e(n,i).then((e=>{console.log(e);const n=t(e.keyword);o(c,s,e,n)}),(e=>{a(c,s)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUYsRUFBaUIzRCxFQUFXQyxHQUM1QixFQUF1QmxCLEVBQU1QLEdBQU8yRSxNQUFNOUQsSUFDeENnRSxRQUFRQyxJQUFJakUsR0FDWixNQUFNdUUsRUFBYUMsRUFBZXhFLEVBQVFDLFNBQzFDcUUsRUFBb0IzRCxFQUFXQyxFQUFZWixFQUFTdUUsTUFDbERFLElBQ0ZILEVBQWtCM0QsRUFBV0MsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWZldGNoLy4vc3JjL2dpcGh5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9ub2RlX21vZHVsZXMvY291bnRyeS1jb2RlLWVtb2ppL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy9kaXNwbGF5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gIG5ldmVyIHB1Ymxpc2ggQVBJIGtleXMgZm9yIHBhaWQgc2VydmljZXNcbmNvbnN0IGFwaUtleVdlYXRoZXIgPSAnOGQ4MzhjYWIyNjIzYmYwZTRjY2YzYzRkMzJlYWI3YmInO1xuXG4vLyAgcGFyc2Ugb3BlbiB3ZWF0aGVyIGpzb24gZm9yIHJlbGV2YW50IGRhdGFcbmZ1bmN0aW9uIHByb2Nlc3NXZWF0aGVyKGpzb24pIHtcbiAgaWYgKGpzb24uY29kID09PSAnNDA0JykgeyB0aHJvdyBuZXcgRXJyb3IoJ0NpdHkgbm90IGZvdW5kJyk7IH1cbiAgY29uc3QgY2l0eSA9IGpzb24ubmFtZTtcbiAgY29uc3QgeyBjb3VudHJ5IH0gPSBqc29uLnN5cztcbiAgY29uc3QgeyB0ZW1wIH0gPSBqc29uLm1haW47XG4gIGNvbnN0IHdlYXRoZXIgPSBqc29uLndlYXRoZXJbMF0ubWFpbjtcbiAgY29uc3Qga2V5d29yZCA9IHdlYXRoZXI7XG5cbiAgcmV0dXJuIHtcbiAgICBjaXR5LCBjb3VudHJ5LCB0ZW1wLCB3ZWF0aGVyLCBrZXl3b3JkLFxuICB9O1xufVxuXG4vLyAgc2VuZCBvcGVuIHdlYXRoZXIgYXBpIHJlcXVlc3RcbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RXZWF0aGVyKGxvY2F0aW9uLCB1bml0cykge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7bG9jYXRpb259JnVuaXRzPSR7dW5pdHN9JkFQUElEPSR7YXBpS2V5V2VhdGhlcn1gLCB7XG4gICAgbW9kZTogJ2NvcnMnLFxuICB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbn1cblxuLy8gIHNlbmQgYSByZXF1ZXN0IHRoZW4gcHJvY2VzcyB0aGUgcmVzdWx0XG5hc3luYyBmdW5jdGlvbiBnZXRXZWF0aGVyKGxvY2F0aW9uLCB1bml0cykge1xuICBjb25zdCBqc29uID0gYXdhaXQgcmVxdWVzdFdlYXRoZXIobG9jYXRpb24sIHVuaXRzKTtcbiAgcmV0dXJuIHByb2Nlc3NXZWF0aGVyKGpzb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldFdlYXRoZXIgfTtcbiIsIi8vICBuZXZlciBwdWJsaXNoIEFQSSBrZXlzIGZvciBwYWlkIHNlcnZpY2VzXG5jb25zdCBhcGlLZXlJbWFnZSA9ICdpZUFJbUtMQ01yM01SeUtjdDQyczhCTVZCRWRTZ0wwQSc7XG5cbi8vICBwYXJzZSBnaXBoeSBqc29uIGZvciByZWxldmFudCBkYXRhXG5mdW5jdGlvbiBwcm9jZXNzSW1hZ2UoanNvbikge1xuICByZXR1cm4ganNvbi5kYXRhLmltYWdlcy5vcmlnaW5hbC51cmw7XG59XG5cbi8vICBzZW5kIGdpcGh5IGFwaSByZXF1ZXN0XG4vLyAgc2VuZCBvcGVuIHdlYXRoZXIgYXBpIHJlcXVlc3RcbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RJbWFnZSh0ZXJtKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmdpcGh5LmNvbS92MS9naWZzL3RyYW5zbGF0ZT9hcGlfa2V5PSR7YXBpS2V5SW1hZ2V9JnM9JHt0ZXJtfWAsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG4vLyAgc2VuZCBhIHJlcXVlc3QgdGhlbiBwcm9jZXNzIHRoZSByZXN1bHRcbmFzeW5jIGZ1bmN0aW9uIGdldEltYWdlKHRlcm0pIHtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlcXVlc3RJbWFnZSh0ZXJtKTtcbiAgcmV0dXJuIHByb2Nlc3NJbWFnZShqc29uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBnZXRJbWFnZSB9O1xuIiwiY29uc3QgQ0NfUkVHRVggPSAvXlthLXpdezJ9JC9pO1xuY29uc3QgRkxBR19MRU5HVEggPSA0O1xuY29uc3QgT0ZGU0VUID0gMTI3Mzk3O1xuZnVuY3Rpb24gY291bnRyeUNvZGVFbW9qaShjYykge1xuICBpZiAoIUNDX1JFR0VYLnRlc3QoY2MpKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBjYztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBjYyBhcmd1bWVudCBtdXN0IGJlIGFuIElTTyAzMTY2LTEgYWxwaGEtMiBzdHJpbmcsIGJ1dCBnb3QgJyR7dHlwZSA9PT0gXCJzdHJpbmdcIiA/IGNjIDogdHlwZX0nIGluc3RlYWQuYCk7XG4gIH1cbiAgY29uc3QgY29kZVBvaW50cyA9IFsuLi5jYy50b1VwcGVyQ2FzZSgpXS5tYXAoKGMpID0+IGMuY29kZVBvaW50QXQoKSArIE9GRlNFVCk7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKTtcbn1cbmZ1bmN0aW9uIGVtb2ppQ291bnRyeUNvZGUoZmxhZykge1xuICBpZiAoZmxhZy5sZW5ndGggIT09IEZMQUdfTEVOR1RIKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBmbGFnO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGZsYWcgYXJndW1lbnQgbXVzdCBiZSBhIGZsYWcgZW1vamksIGJ1dCBnb3QgJyR7dHlwZSA9PT0gXCJzdHJpbmdcIiA/IGZsYWcgOiB0eXBlfScgaW5zdGVhZC5gKTtcbiAgfVxuICBjb25zdCBjb2RlUG9pbnRzID0gWy4uLmZsYWddLm1hcCgoYykgPT4gYy5jb2RlUG9pbnRBdCgpIC0gT0ZGU0VUKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpO1xufVxudmFyIHNyY19kZWZhdWx0ID0gY291bnRyeUNvZGVFbW9qaTtcbmV4cG9ydCB7XG4gIGNvdW50cnlDb2RlRW1vamksXG4gIHNyY19kZWZhdWx0IGFzIGRlZmF1bHQsXG4gIGVtb2ppQ291bnRyeUNvZGVcbn07XG4iLCJpbXBvcnQgY291bnRyeUNvZGVFbW9qaSBmcm9tICdjb3VudHJ5LWNvZGUtZW1vamknO1xuXG5mdW5jdGlvbiBzaG93SG9tZShkb21JbnB1dHMsIGRvbU91dHB1dHMsIGNhbGxiYWNrKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21JbnB1dHMuaW5uZXJUZXh0ID0gJyc7XG5cbiAgLy8gIGZvcm1cbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgZG9tSW5wdXRzLmFwcGVuZENoaWxkKGZvcm0pO1xuICAvLyAgICBjaXR5IGlucHV0XG4gIGNvbnN0IGNpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoY2l0eUxhYmVsKTtcbiAgY2l0eUxhYmVsLmlubmVyVGV4dCA9ICdDaXR5OiAnO1xuICBjb25zdCBjaXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjaXR5TGFiZWwuYXBwZW5kQ2hpbGQoY2l0eUlucHV0KTtcbiAgY2l0eUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdjaXR5Jyk7XG4gIGNpdHlJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ3JlcXVpcmVkJyk7XG5cbiAgLy8gIHVuaXQgd3JhcHBlclxuICBjb25zdCB1bml0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmb3JtLmFwcGVuZENoaWxkKHVuaXRXcmFwcGVyKTtcbiAgdW5pdFdyYXBwZXIuY2xhc3NOYW1lID0gJ3VuaXQtd3JhcHBlcic7XG5cbiAgLy8gICAgdW5pdCBpbnB1dCBkZXNjcmlwdGlvblxuICBjb25zdCB1bml0TGFiZWxEZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgdW5pdFdyYXBwZXIuYXBwZW5kQ2hpbGQodW5pdExhYmVsRGVzYyk7XG4gIHVuaXRMYWJlbERlc2MuaW5uZXJUZXh0ID0gJ1VuaXRzOiAnO1xuXG4gIGNvbnN0IGNyZWF0ZVJhZGlvID0gKGxhYmVsLCB2YWx1ZSwgZ3JvdXAsIGNoZWNrZWQpID0+IHtcbiAgICBjb25zdCB1bml0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIHVuaXRXcmFwcGVyLmFwcGVuZENoaWxkKHVuaXRMYWJlbCk7XG4gICAgdW5pdExhYmVsLmlubmVyVGV4dCA9IGxhYmVsO1xuICAgIHVuaXRMYWJlbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZ3JpZC1jb2x1bW4nLCAnMi8zJyk7XG4gICAgdW5pdExhYmVsLmNsYXNzTmFtZSA9ICdyYWRpby1sYWJlbCc7XG5cbiAgICBjb25zdCB1bml0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHVuaXRMYWJlbC5hcHBlbmRDaGlsZCh1bml0SW5wdXQpO1xuICAgIHVuaXRJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICB1bml0SW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgZ3JvdXApO1xuICAgIHVuaXRJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChjaGVja2VkKSB7IHVuaXRJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTsgfVxuICAgIHJldHVybiBbdW5pdExhYmVsLCB1bml0SW5wdXRdO1xuICB9O1xuXG4gIGNvbnN0IFt1bml0TGFiZWxDLCB1bml0SW5wdXRDXSA9IGNyZWF0ZVJhZGlvKCdDZWxjaXVzJywgJ21ldHJpYycsICd1bml0cycsIHRydWUpO1xuICBjb25zdCBbdW5pdExhYmVsRiwgdW5pdElucHV0Rl0gPSBjcmVhdGVSYWRpbygnRmFyZW5oZWl0JywgJ2ltcGVyaWFsJywgJ3VuaXRzJywgZmFsc2UpO1xuXG4gIC8vICAgIHN1Ym1pdFxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gIHN1Ym1pdEJ1dHRvbi52YWx1ZSA9ICdTdWJtaXQnO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmICghY2l0eUlucHV0LnZhbGlkaXR5LnZhbGlkKSByZXR1cm4gZmFsc2U7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgY2FsbGJhY2soZGF0YS5nZXQoJ2NpdHknKSwgZGF0YS5nZXQoJ3VuaXRzJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0xvYWQoZG9tSW5wdXRzLCBkb21PdXRwdXRzKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIGNvbnN0IGxvYWRpbmdNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQobG9hZGluZ01lc3NhZ2UpO1xuICBsb2FkaW5nTWVzc2FnZS5jbGFzc05hbWUgPSAnZXJyb3ItYm94JztcbiAgbG9hZGluZ01lc3NhZ2UuaW5uZXJUZXh0ID0gJ05vdyBMb2FkaW5nLi4uJztcbn1cblxuZnVuY3Rpb24gc2hvd1Jlc3VsdHMoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCB3ZWF0aGVyLCBzb3VyY2VQcm9taXNlKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIC8vICBkaXNwbGF5IHRoZSB3ZWF0aGVyXG4gIGNvbnN0IGVtb2ppID0gY291bnRyeUNvZGVFbW9qaSh3ZWF0aGVyLmNvdW50cnkpO1xuICBjb25zdCBjaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoY2l0eSk7XG4gIGNpdHkuaW5uZXJUZXh0ID0gYCR7d2VhdGhlci5jaXR5fSAke2Vtb2ppfWA7XG5cbiAgY29uc3QgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKHRlbXApO1xuICB0ZW1wLmlubmVyVGV4dCA9IHdlYXRoZXIudGVtcDtcblxuICBjb25zdCBjb25kaXRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoY29uZGl0aW9ucyk7XG4gIGNvbmRpdGlvbnMuaW5uZXJUZXh0ID0gd2VhdGhlci53ZWF0aGVyO1xuXG4gIC8vICAgIGRpc3BsYXkgdGhlIGdpcGh5IHJlc3VsdFxuICBzb3VyY2VQcm9taXNlLnRoZW4oKHNvdXJjZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdpbWFnZSB0byBsb2FkOiAnLCBzb3VyY2UpO1xuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBzb3VyY2UpO1xuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBJbWFnZSBvZiAke3dlYXRoZXIud2VhdGhlcn1gKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcihkb21JbnB1dHMsIGRvbU91dHB1dHMsIHNlYXJjaFRlcm0pIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbU91dHB1dHMuaW5uZXJUZXh0ID0gJyc7XG5cbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoZXJyb3JNZXNzYWdlKTtcbiAgZXJyb3JNZXNzYWdlLmNsYXNzTmFtZSA9ICdlcnJvci1ib3gnO1xuICBlcnJvck1lc3NhZ2UuaW5uZXJUZXh0ID0gJ0ZhaWxlZCB0byBmaW5kIHJlc3VsdHMuIFBsZWFzZSBjaGVjayB5b3VyIGlucHV0cyBhbmQgdHJ5IGFnYWluJztcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaG93SG9tZSwgc2hvd0xvYWQsIHNob3dSZXN1bHRzLCBzaG93RXJyb3IsXG59O1xuIiwiaW1wb3J0IG9wZW5XZWF0aGVyIGZyb20gJy4vd2VhdGhlcic7XG5pbXBvcnQgZ2lwaHkgZnJvbSAnLi9naXBoeSc7XG5pbXBvcnQgZGlzcGxheSBmcm9tICcuL2Rpc3BsYXknO1xuXG5jb25zdCBkb21JbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG9tLWlucHV0cycpO1xuY29uc3QgZG9tT3V0cHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb20tb3V0cHV0cycpO1xuY29uc3Qgc3VibWl0Q2FsbGJhY2sgPSAoY2l0eSwgdW5pdHMpID0+IHtcbiAgZGlzcGxheS5zaG93TG9hZChkb21JbnB1dHMsIGRvbU91dHB1dHMpO1xuICBvcGVuV2VhdGhlci5nZXRXZWF0aGVyKGNpdHksIHVuaXRzKS50aGVuKCh3ZWF0aGVyKSA9PiB7XG4gICAgY29uc29sZS5sb2cod2VhdGhlcik7XG4gICAgY29uc3QgaW1nUHJvbWlzZSA9IGdpcGh5LmdldEltYWdlKHdlYXRoZXIua2V5d29yZCk7XG4gICAgZGlzcGxheS5zaG93UmVzdWx0cyhkb21JbnB1dHMsIGRvbU91dHB1dHMsIHdlYXRoZXIsIGltZ1Byb21pc2UpO1xuICB9LCAoZXJyb3IpID0+IHtcbiAgICBkaXNwbGF5LnNob3dFcnJvcihkb21JbnB1dHMsIGRvbU91dHB1dHMpO1xuICB9KTtcbn07XG5kaXNwbGF5LnNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgc3VibWl0Q2FsbGJhY2spO1xuIl0sIm5hbWVzIjpbImFzeW5jIiwibG9jYXRpb24iLCJ1bml0cyIsImpzb24iLCJmZXRjaCIsIm1vZGUiLCJyZXF1ZXN0V2VhdGhlciIsImNvZCIsIkVycm9yIiwiY2l0eSIsIm5hbWUiLCJjb3VudHJ5Iiwic3lzIiwidGVtcCIsIm1haW4iLCJ3ZWF0aGVyIiwia2V5d29yZCIsInByb2Nlc3NXZWF0aGVyIiwidGVybSIsInJlcXVlc3RJbWFnZSIsImRhdGEiLCJpbWFnZXMiLCJvcmlnaW5hbCIsInVybCIsInByb2Nlc3NJbWFnZSIsIkNDX1JFR0VYIiwiZG9tSW5wdXRzIiwiZG9tT3V0cHV0cyIsImNhbGxiYWNrIiwiaW5uZXJUZXh0IiwiZm9ybSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY2l0eUxhYmVsIiwiY2l0eUlucHV0Iiwic2V0QXR0cmlidXRlIiwidG9nZ2xlQXR0cmlidXRlIiwidW5pdFdyYXBwZXIiLCJjbGFzc05hbWUiLCJ1bml0TGFiZWxEZXNjIiwiY3JlYXRlUmFkaW8iLCJsYWJlbCIsInZhbHVlIiwiZ3JvdXAiLCJjaGVja2VkIiwidW5pdExhYmVsIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsInVuaXRJbnB1dCIsInVuaXRMYWJlbEMiLCJ1bml0SW5wdXRDIiwidW5pdExhYmVsRiIsInVuaXRJbnB1dEYiLCJzdWJtaXRCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwicHJldmVudERlZmF1bHQiLCJGb3JtRGF0YSIsImdldCIsImxvYWRpbmdNZXNzYWdlIiwic291cmNlUHJvbWlzZSIsImVtb2ppIiwiY2MiLCJ0ZXN0IiwidHlwZSIsIlR5cGVFcnJvciIsImNvZGVQb2ludHMiLCJ0b1VwcGVyQ2FzZSIsIm1hcCIsImMiLCJjb2RlUG9pbnRBdCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJjb25kaXRpb25zIiwidGhlbiIsInNvdXJjZSIsImNvbnNvbGUiLCJsb2ciLCJpbWciLCJzZWFyY2hUZXJtIiwiZXJyb3JNZXNzYWdlIiwicXVlcnlTZWxlY3RvciIsImRpc3BsYXkiLCJpbWdQcm9taXNlIiwiZ2lwaHkiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=