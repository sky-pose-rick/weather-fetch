(()=>{"use strict";const t=async function(t,e){const n=await async function(t,e){return await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${e}&APPID=8d838cab2623bf0e4ccf3c4d32eab7bb`,{mode:"cors"}).then((t=>t.json())).then((t=>t))}(t,e);return function(t){const e=t.name,{country:n}=t.sys,{temp:i}=t.main,c=t.weather[0].main;return{city:e,country:n,temp:i,weather:c,keyword:c}}(n)};async function e(t){return await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ieAImKLCMr3MRyKct42s8BMVBEdSgL0A&s=${t}`,{mode:"cors"}).then((t=>t.json())).then((t=>t))}const n=async function(t){const n=await e(t);return e(n)},i=/^[a-z]{2}$/i;const c=function(t,e,n){t.innerText="";const i=document.createElement("form");t.appendChild(i);const c=document.createElement("label");i.appendChild(c),c.innerText="City";const o=document.createElement("input");c.appendChild(o),o.setAttribute("name","city"),o.toggleAttribute("required");const r=document.createElement("label");i.appendChild(r),r.innerText="Units";const a=(t,e,n,i)=>{const c=document.createElement("label");r.appendChild(c),c.innerText=t;const o=document.createElement("input");return c.appendChild(o),o.setAttribute("type","radio"),o.setAttribute("name",n),o.value=e,i&&o.toggleAttribute("checked"),[c,o]},[s,u]=a("Celcius","metric","units",!0),[d,m]=a("Farenheit","imperial","units",!1),l=document.createElement("input");i.appendChild(l),l.setAttribute("type","submit"),l.value="Submit",l.addEventListener("click",(t=>{if(!o.validity.valid)return!1;t.preventDefault();const e=new FormData(i);n(e.get("city"),e.get("units"))}))},o=function(t,e){e.innerText="Now Loading..."},r=function(t,e,n,c){e.innerText="";const o=function(t){if(!i.test(t)){const e=typeof t;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===e?t:e}' instead.`)}const e=[...t.toUpperCase()].map((t=>t.codePointAt()+127397));return String.fromCodePoint(...e)}(n.country),r=document.createElement("div");e.appendChild(r),r.innerText=`${n.city} ${o}`;const a=document.createElement("div");e.appendChild(a),a.innerText=n.temp;const s=document.createElement("div");e.appendChild(s),s.innerText=n.weather,c.then((t=>{console.log("image to load: ",t);const i=document.createElement("img");e.appendChild(i),i.setAttribute("src",t),i.setAttribute("alt",`Image of ${n.weather}`)}))},a=document.querySelector("#dom-inputs"),s=document.querySelector("#dom-outputs");c(a,s,((e,i)=>{o(a,s),t(e,i).then((t=>{console.log(t);const e=n(t.keyword);r(a,s,t,e)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsT0FBT0MsaUJBQWlCTixHQ3VEakIsQ0FBaUI3QyxFQUFRSixTQUNqQ0YsRUFBT2lCLFNBQVNDLGNBQWMsT0FDcENMLEVBQVdNLFlBQVluQixHQUN2QkEsRUFBS2UsVUFBWSxHQUFHVCxFQUFRTixRQUFROEMsSUFFcEMsTUFBTTFDLEVBQU9hLFNBQVNDLGNBQWMsT0FDcENMLEVBQVdNLFlBQVlmLEdBQ3ZCQSxFQUFLVyxVQUFZVCxFQUFRRixLQUV6QixNQUFNc0QsRUFBYXpDLFNBQVNDLGNBQWMsT0FDMUNMLEVBQVdNLFlBQVl1QyxHQUN2QkEsRUFBVzNDLFVBQVlULEVBQVFBLFFBRy9CdUMsRUFBY2hELE1BQU04RCxJQUNsQkMsUUFBUUMsSUFBSSxrQkFBbUJGLEdBQy9CLE1BQU1HLEVBQU03QyxTQUFTQyxjQUFjLE9BQ25DTCxFQUFXTSxZQUFZMkMsR0FDdkJBLEVBQUl4QyxhQUFhLE1BQU9xQyxHQUN4QkcsRUFBSXhDLGFBQWEsTUFBTyxZQUFZaEIsRUFBUUEsZUMvRTFDTSxFQUFZSyxTQUFTOEMsY0FBYyxlQUNuQ2xELEVBQWFJLFNBQVM4QyxjQUFjLGdCQWExQ0MsRUFBaUJwRCxFQUFXQyxHQVpMLENBQUNiLEVBQU1QLEtBQzVCdUUsRUFBaUJwRCxFQUFXQyxHQUM1QixFQUF1QmIsRUFBTVAsR0FBT0ksTUFBTVMsSUFDeENzRCxRQUFRQyxJQUFJdkQsR0FDWixNQUFNMkQsRUFBYUMsRUFBZTVELEVBQVFDLFNBQzFDeUQsRUFBb0JwRCxFQUFXQyxFQUFZUCxFQUFTMkQsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWZldGNoLy4vc3JjL2dpcGh5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9ub2RlX21vZHVsZXMvY291bnRyeS1jb2RlLWVtb2ppL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy9kaXNwbGF5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gIG5ldmVyIHB1Ymxpc2ggQVBJIGtleXMgZm9yIHBhaWQgc2VydmljZXNcbmNvbnN0IGFwaUtleVdlYXRoZXIgPSAnOGQ4MzhjYWIyNjIzYmYwZTRjY2YzYzRkMzJlYWI3YmInO1xuXG4vLyAgcGFyc2Ugb3BlbiB3ZWF0aGVyIGpzb24gZm9yIHJlbGV2YW50IGRhdGFcbmZ1bmN0aW9uIHByb2Nlc3NXZWF0aGVyKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNpdHkgPSByZXNwb25zZS5uYW1lO1xuICBjb25zdCB7IGNvdW50cnkgfSA9IHJlc3BvbnNlLnN5cztcbiAgY29uc3QgeyB0ZW1wIH0gPSByZXNwb25zZS5tYWluO1xuICBjb25zdCB3ZWF0aGVyID0gcmVzcG9uc2Uud2VhdGhlclswXS5tYWluO1xuICBjb25zdCBrZXl3b3JkID0gd2VhdGhlcjtcbiAgLy8gIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgLyogIGNvbnNvbGUubG9nKCdMb2NhdGlvbjogJywgY2l0eSk7XG4gIGNvbnNvbGUubG9nKCdDb3VudHJ5OiAnLCBjb3VudHJ5KTtcbiAgY29uc29sZS5sb2coJ1RlbXBlcmF0dXJlOiAnLCB0ZW1wKTtcbiAgY29uc29sZS5sb2coJ1dlYXRoZXI6ICcsIHdlYXRoZXIpOyAgKi9cbiAgLy8gICAgZ2V0SW1hZ2UocmVzcG9uc2Uud2VhdGhlclswXS5tYWluKTtcbiAgcmV0dXJuIHtcbiAgICBjaXR5LCBjb3VudHJ5LCB0ZW1wLCB3ZWF0aGVyLCBrZXl3b3JkLFxuICB9O1xufVxuXG4vLyAgc2VuZCBvcGVuIHdlYXRoZXIgYXBpIHJlcXVlc3RcbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RXZWF0aGVyKGxvY2F0aW9uLCB1bml0cykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2xvY2F0aW9ufSZ1bml0cz0ke3VuaXRzfSZBUFBJRD0ke2FwaUtleVdlYXRoZXJ9YCwge1xuICAgIG1vZGU6ICdjb3JzJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbigoanNvbikgPT4ganNvbik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpO1xuICByZXR1cm4gcHJvY2Vzc1dlYXRoZXIocmVzcG9uc2UpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldFdlYXRoZXIgfTtcbiIsIi8vICBuZXZlciBwdWJsaXNoIEFQSSBrZXlzIGZvciBwYWlkIHNlcnZpY2VzXG5jb25zdCBhcGlLZXlJbWFnZSA9ICdpZUFJbUtMQ01yM01SeUtjdDQyczhCTVZCRWRTZ0wwQSc7XG5cbi8vICBwYXJzZSBnaXBoeSBqc29uIGZvciByZWxldmFudCBkYXRhXG5mdW5jdGlvbiBwcm9jZXNzSW1hZ2UocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuaW1hZ2VzLm9yaWdpbmFsLnVybDtcbn1cblxuLy8gIHNlbmQgZ2lwaHkgYXBpIHJlcXVlc3Rcbi8vICBzZW5kIG9wZW4gd2VhdGhlciBhcGkgcmVxdWVzdFxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEltYWdlKHRlcm0pIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmdpcGh5LmNvbS92MS9naWZzL3RyYW5zbGF0ZT9hcGlfa2V5PSR7YXBpS2V5SW1hZ2V9JnM9JHt0ZXJtfWAsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2UodGVybSkge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RJbWFnZSh0ZXJtKTtcbiAgcmV0dXJuIHJlcXVlc3RJbWFnZShyZXNwb25zZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgZ2V0SW1hZ2UgfTtcbiIsImNvbnN0IENDX1JFR0VYID0gL15bYS16XXsyfSQvaTtcbmNvbnN0IEZMQUdfTEVOR1RIID0gNDtcbmNvbnN0IE9GRlNFVCA9IDEyNzM5NztcbmZ1bmN0aW9uIGNvdW50cnlDb2RlRW1vamkoY2MpIHtcbiAgaWYgKCFDQ19SRUdFWC50ZXN0KGNjKSkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgY2M7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgY2MgYXJndW1lbnQgbXVzdCBiZSBhbiBJU08gMzE2Ni0xIGFscGhhLTIgc3RyaW5nLCBidXQgZ290ICcke3R5cGUgPT09IFwic3RyaW5nXCIgPyBjYyA6IHR5cGV9JyBpbnN0ZWFkLmApO1xuICB9XG4gIGNvbnN0IGNvZGVQb2ludHMgPSBbLi4uY2MudG9VcHBlckNhc2UoKV0ubWFwKChjKSA9PiBjLmNvZGVQb2ludEF0KCkgKyBPRkZTRVQpO1xuICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cyk7XG59XG5mdW5jdGlvbiBlbW9qaUNvdW50cnlDb2RlKGZsYWcpIHtcbiAgaWYgKGZsYWcubGVuZ3RoICE9PSBGTEFHX0xFTkdUSCkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZmxhZztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBmbGFnIGFyZ3VtZW50IG11c3QgYmUgYSBmbGFnIGVtb2ppLCBidXQgZ290ICcke3R5cGUgPT09IFwic3RyaW5nXCIgPyBmbGFnIDogdHlwZX0nIGluc3RlYWQuYCk7XG4gIH1cbiAgY29uc3QgY29kZVBvaW50cyA9IFsuLi5mbGFnXS5tYXAoKGMpID0+IGMuY29kZVBvaW50QXQoKSAtIE9GRlNFVCk7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKTtcbn1cbnZhciBzcmNfZGVmYXVsdCA9IGNvdW50cnlDb2RlRW1vamk7XG5leHBvcnQge1xuICBjb3VudHJ5Q29kZUVtb2ppLFxuICBzcmNfZGVmYXVsdCBhcyBkZWZhdWx0LFxuICBlbW9qaUNvdW50cnlDb2RlXG59O1xuIiwiaW1wb3J0IGNvdW50cnlDb2RlRW1vamkgZnJvbSAnY291bnRyeS1jb2RlLWVtb2ppJztcblxuZnVuY3Rpb24gc2hvd0hvbWUoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCBjYWxsYmFjaykge1xuICAvLyAgZXJhc2Ugb2xkIGNvbnRlbnRcbiAgZG9tSW5wdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIC8vICBmb3JtXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGRvbUlucHV0cy5hcHBlbmRDaGlsZChmb3JtKTtcbiAgLy8gICAgY2l0eSBpbnB1dFxuICBjb25zdCBjaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKGNpdHlMYWJlbCk7XG4gIGNpdHlMYWJlbC5pbm5lclRleHQgPSAnQ2l0eSc7XG4gIGNvbnN0IGNpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNpdHlMYWJlbC5hcHBlbmRDaGlsZChjaXR5SW5wdXQpO1xuICBjaXR5SW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2NpdHknKTtcbiAgY2l0eUlucHV0LnRvZ2dsZUF0dHJpYnV0ZSgncmVxdWlyZWQnKTtcbiAgLy8gICAgdW5pdCBpbnB1dCB3cmFwcGVyXG4gIGNvbnN0IHVuaXRMYWJlbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKHVuaXRMYWJlbFdyYXBwZXIpO1xuICB1bml0TGFiZWxXcmFwcGVyLmlubmVyVGV4dCA9ICdVbml0cyc7XG5cbiAgY29uc3QgY3JlYXRlUmFkaW8gPSAobGFiZWwsIHZhbHVlLCBncm91cCwgY2hlY2tlZCkgPT4ge1xuICAgIGNvbnN0IHVuaXRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgdW5pdExhYmVsV3JhcHBlci5hcHBlbmRDaGlsZCh1bml0TGFiZWwpO1xuICAgIHVuaXRMYWJlbC5pbm5lclRleHQgPSBsYWJlbDtcbiAgICBjb25zdCB1bml0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHVuaXRMYWJlbC5hcHBlbmRDaGlsZCh1bml0SW5wdXQpO1xuXG4gICAgdW5pdElucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdyYWRpbycpO1xuICAgIHVuaXRJbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBncm91cCk7XG4gICAgdW5pdElucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgaWYgKGNoZWNrZWQpIHsgdW5pdElucHV0LnRvZ2dsZUF0dHJpYnV0ZSgnY2hlY2tlZCcpOyB9XG4gICAgcmV0dXJuIFt1bml0TGFiZWwsIHVuaXRJbnB1dF07XG4gIH07XG5cbiAgY29uc3QgW3VuaXRMYWJlbEMsIHVuaXRJbnB1dENdID0gY3JlYXRlUmFkaW8oJ0NlbGNpdXMnLCAnbWV0cmljJywgJ3VuaXRzJywgdHJ1ZSk7XG4gIGNvbnN0IFt1bml0TGFiZWxGLCB1bml0SW5wdXRGXSA9IGNyZWF0ZVJhZGlvKCdGYXJlbmhlaXQnLCAnaW1wZXJpYWwnLCAndW5pdHMnLCBmYWxzZSk7XG5cbiAgLy8gICAgc3VibWl0XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKTtcbiAgc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgc3VibWl0QnV0dG9uLnZhbHVlID0gJ1N1Ym1pdCc7XG5cbiAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFjaXR5SW5wdXQudmFsaWRpdHkudmFsaWQpIHJldHVybiBmYWxzZTtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICBjYWxsYmFjayhkYXRhLmdldCgnY2l0eScpLCBkYXRhLmdldCgndW5pdHMnKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93TG9hZChkb21JbnB1dHMsIGRvbU91dHB1dHMpIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbU91dHB1dHMuaW5uZXJUZXh0ID0gJ05vdyBMb2FkaW5nLi4uJztcbn1cblxuZnVuY3Rpb24gc2hvd1Jlc3VsdHMoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCB3ZWF0aGVyLCBzb3VyY2VQcm9taXNlKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIC8vICBkaXNwbGF5IHRoZSB3ZWF0aGVyXG4gIGNvbnN0IGVtb2ppID0gY291bnRyeUNvZGVFbW9qaSh3ZWF0aGVyLmNvdW50cnkpO1xuICBjb25zdCBjaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoY2l0eSk7XG4gIGNpdHkuaW5uZXJUZXh0ID0gYCR7d2VhdGhlci5jaXR5fSAke2Vtb2ppfWA7XG5cbiAgY29uc3QgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKHRlbXApO1xuICB0ZW1wLmlubmVyVGV4dCA9IHdlYXRoZXIudGVtcDtcblxuICBjb25zdCBjb25kaXRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoY29uZGl0aW9ucyk7XG4gIGNvbmRpdGlvbnMuaW5uZXJUZXh0ID0gd2VhdGhlci53ZWF0aGVyO1xuXG4gIC8vICAgIGRpc3BsYXkgdGhlIGdpcGh5IHJlc3VsdFxuICBzb3VyY2VQcm9taXNlLnRoZW4oKHNvdXJjZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdpbWFnZSB0byBsb2FkOiAnLCBzb3VyY2UpO1xuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBzb3VyY2UpO1xuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBJbWFnZSBvZiAke3dlYXRoZXIud2VhdGhlcn1gKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcihkb21JbnB1dHMsIGRvbU91dHB1dHMsIHNlYXJjaFRlcm0pIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbU91dHB1dHMuaW5uZXJUZXh0ID0gJyc7XG5cbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoZXJyb3JNZXNzYWdlKTtcbiAgZXJyb3JNZXNzYWdlLmlubmVyVGV4dCA9ICdGYWlsZWQgdG8gZmluZCByZXN1bHRzLiBQbGVhc2UgY2hlY2sgeW91ciBpbnB1dHMgYW5kIHRyeSBhZ2Fpbic7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2hvd0hvbWUsIHNob3dMb2FkLCBzaG93UmVzdWx0cywgc2hvd0Vycm9yLFxufTtcbiIsImltcG9ydCBvcGVuV2VhdGhlciBmcm9tICcuL3dlYXRoZXInO1xuaW1wb3J0IGdpcGh5IGZyb20gJy4vZ2lwaHknO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi9kaXNwbGF5JztcblxuY29uc3QgZG9tSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RvbS1pbnB1dHMnKTtcbmNvbnN0IGRvbU91dHB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG9tLW91dHB1dHMnKTtcbmNvbnN0IHN1Ym1pdENhbGxiYWNrID0gKGNpdHksIHVuaXRzKSA9PiB7XG4gIGRpc3BsYXkuc2hvd0xvYWQoZG9tSW5wdXRzLCBkb21PdXRwdXRzKTtcbiAgb3BlbldlYXRoZXIuZ2V0V2VhdGhlcihjaXR5LCB1bml0cykudGhlbigod2VhdGhlcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKHdlYXRoZXIpO1xuICAgIGNvbnN0IGltZ1Byb21pc2UgPSBnaXBoeS5nZXRJbWFnZSh3ZWF0aGVyLmtleXdvcmQpO1xuICAgIGRpc3BsYXkuc2hvd1Jlc3VsdHMoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCB3ZWF0aGVyLCBpbWdQcm9taXNlKTtcbiAgfSk7LyogLCAoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgZGlzcGxheS5zaG93RXJyb3IoZG9tSW5wdXRzLCBkb21PdXRwdXRzKTtcbiAgICBlcnJvci5kZWZlcigpO1xuICB9KTsgKi9cbn07XG5kaXNwbGF5LnNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgc3VibWl0Q2FsbGJhY2spO1xuIl0sIm5hbWVzIjpbImFzeW5jIiwibG9jYXRpb24iLCJ1bml0cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwidGhlbiIsImpzb24iLCJyZXF1ZXN0V2VhdGhlciIsImNpdHkiLCJuYW1lIiwiY291bnRyeSIsInN5cyIsInRlbXAiLCJtYWluIiwid2VhdGhlciIsImtleXdvcmQiLCJwcm9jZXNzV2VhdGhlciIsInJlcXVlc3RJbWFnZSIsInRlcm0iLCJDQ19SRUdFWCIsImRvbUlucHV0cyIsImRvbU91dHB1dHMiLCJjYWxsYmFjayIsImlubmVyVGV4dCIsImZvcm0iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNpdHlMYWJlbCIsImNpdHlJbnB1dCIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZUF0dHJpYnV0ZSIsInVuaXRMYWJlbFdyYXBwZXIiLCJjcmVhdGVSYWRpbyIsImxhYmVsIiwidmFsdWUiLCJncm91cCIsImNoZWNrZWQiLCJ1bml0TGFiZWwiLCJ1bml0SW5wdXQiLCJ1bml0TGFiZWxDIiwidW5pdElucHV0QyIsInVuaXRMYWJlbEYiLCJ1bml0SW5wdXRGIiwic3VibWl0QnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsInByZXZlbnREZWZhdWx0IiwiZGF0YSIsIkZvcm1EYXRhIiwiZ2V0Iiwic291cmNlUHJvbWlzZSIsImVtb2ppIiwiY2MiLCJ0ZXN0IiwidHlwZSIsIlR5cGVFcnJvciIsImNvZGVQb2ludHMiLCJ0b1VwcGVyQ2FzZSIsIm1hcCIsImMiLCJjb2RlUG9pbnRBdCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJjb25kaXRpb25zIiwic291cmNlIiwiY29uc29sZSIsImxvZyIsImltZyIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNwbGF5IiwiaW1nUHJvbWlzZSIsImdpcGh5Il0sInNvdXJjZVJvb3QiOiIifQ==