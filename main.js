(()=>{"use strict";const e=async function(e,t){const n=await async function(e,t){return await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&APPID=8d838cab2623bf0e4ccf3c4d32eab7bb`,{mode:"cors"}).then((e=>e.json())).then((e=>e))}(e,t);return function(e){const t=e.name,{country:n}=e.sys,{temp:o}=e.main,i=e.weather[0].main,c=i;return console.log("Location: ",t),console.log("Country: ",n),console.log("Temperature: ",o),console.log("Weather: ",i),{city:t,country:n,temp:o,weather:i,keyword:c}}(n)},t=async function(e,t){return(await async function(e){return await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ieAImKLCMr3MRyKct42s8BMVBEdSgL0A&s=${e}`,{mode:"cors"}).then((e=>e.json())).then((e=>e))}(e)).data.images.original.url},n=/^[a-z]{2}$/i;const o=function(e,t,n){e.innerText="";const o=document.createElement("form");e.appendChild(o);const i=document.createElement("label");o.appendChild(i),i.innerText="City";const c=document.createElement("input");i.appendChild(c),c.setAttribute("name","city"),c.toggleAttribute("required");const r=document.createElement("label");o.appendChild(r),r.innerText="Units";const a=(e,t,n,o)=>{const i=document.createElement("label");r.appendChild(i),i.innerText=e;const c=document.createElement("input");return i.appendChild(c),c.setAttribute("type","radio"),c.setAttribute("name",n),c.value=t,o&&c.toggleAttribute("checked"),[i,c]},[u,s]=a("Celcius","metric","units",!0),[d,l]=a("Farenheit","imperial","units",!1),m=document.createElement("input");o.appendChild(m),m.setAttribute("type","submit"),m.value="Submit",m.addEventListener("click",(e=>{if(!c.validity.valid)return!1;e.preventDefault();const t=new FormData(o);n(t.get("city"),t.get("units"))}))},i=function(e,t){t.innerText="Now Loading..."},c=function(e,t,o,i){t.innerText="",console.log("image to load: ",i);const c=function(e){if(!n.test(e)){const t=typeof e;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===t?e:t}' instead.`)}const t=[...e.toUpperCase()].map((e=>e.codePointAt()+127397));return String.fromCodePoint(...t)}(o.country),r=document.createElement("div");t.appendChild(r),r.innerText=`${o.city} ${c}`;const a=document.createElement("div");t.appendChild(a),a.innerText=o.temp;const u=document.createElement("div");t.appendChild(u),u.innerText=o.weather;const s=document.createElement("img");t.appendChild(s),s.setAttribute("src",i)},r=document.querySelector("#dom-inputs"),a=document.querySelector("#dom-outputs");o(r,a,((n,o)=>{i(r,a),e(n,o).then((e=>{t(e.keyword).then((t=>{c(r,a,e,t)}))})).catch((e=>{console.log("failed to get weather")}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBbUNBLFFBTEFBLGVBQTBCQyxFQUFVQyxHQUNsQyxNQUFNQyxRQVRSSCxlQUE4QkMsRUFBVUMsR0FJdEMsYUFIcUJFLE1BQU0scURBQXFESCxXQUFrQkMsMkNBQWdDLENBQ2hJRyxLQUFNLFNBQ0xDLE1BQU1ILEdBQWFBLEVBQVNJLFNBQVFELE1BQU1ILEdBQWFBLElBTW5DSyxDQUFlUCxFQUFVQyxHQUNoRCxPQTVCRixTQUF3QkMsR0FDdEIsTUFBTU0sRUFBT04sRUFBU08sTUFDaEIsUUFBRUMsR0FBWVIsRUFBU1MsS0FDdkIsS0FBRUMsR0FBU1YsRUFBU1csS0FDcEJDLEVBQVVaLEVBQVNZLFFBQVEsR0FBR0QsS0FDOUJFLEVBQVVELEVBT2hCLE9BTEFFLFFBQVFDLElBQUksYUFBY1QsR0FDMUJRLFFBQVFDLElBQUksWUFBYVAsR0FDekJNLFFBQVFDLElBQUksZ0JBQWlCTCxHQUM3QkksUUFBUUMsSUFBSSxZQUFhSCxHQUVsQixDQUNMTixLQUFBQSxFQUFNRSxRQUFBQSxFQUFTRSxLQUFBQSxFQUFNRSxRQUFBQSxFQUFTQyxRQUFBQSxHQWV6QkcsQ0FBZWhCLElDVHhCLEVBTEFILGVBQXdCQyxFQUFVQyxHQUVoQyxhQVZGRixlQUE0Qm9CLEdBSTFCLGFBSHFCaEIsTUFBTSxzRkFBb0VnQixJQUFRLENBQ3JHZixLQUFNLFNBQ0xDLE1BQU1ILEdBQWFBLEVBQVNJLFNBQVFELE1BQU1ILEdBQWFBLElBTW5Da0IsQ0FBYXBCLElBZHBCcUIsS0FBS0MsT0FBT0MsU0FBU0MsS0NMakNDLEVBQVcsY0N3RmpCLFFBdEZBLFNBQWtCQyxFQUFXQyxFQUFZQyxHQUV2Q0YsRUFBVUcsVUFBWSxHQUd0QixNQUFNQyxFQUFPQyxTQUFTQyxjQUFjLFFBQ3BDTixFQUFVTyxZQUFZSCxHQUV0QixNQUFNSSxFQUFZSCxTQUFTQyxjQUFjLFNBQ3pDRixFQUFLRyxZQUFZQyxHQUNqQkEsRUFBVUwsVUFBWSxPQUN0QixNQUFNTSxFQUFZSixTQUFTQyxjQUFjLFNBQ3pDRSxFQUFVRCxZQUFZRSxHQUN0QkEsRUFBVUMsYUFBYSxPQUFRLFFBQy9CRCxFQUFVRSxnQkFBZ0IsWUFFMUIsTUFBTUMsRUFBbUJQLFNBQVNDLGNBQWMsU0FDaERGLEVBQUtHLFlBQVlLLEdBQ2pCQSxFQUFpQlQsVUFBWSxRQUU3QixNQUFNVSxFQUFjLENBQUNDLEVBQU9DLEVBQU9DLEVBQU9DLEtBQ3hDLE1BQU1DLEVBQVliLFNBQVNDLGNBQWMsU0FDekNNLEVBQWlCTCxZQUFZVyxHQUM3QkEsRUFBVWYsVUFBWVcsRUFDdEIsTUFBTUssRUFBWWQsU0FBU0MsY0FBYyxTQU96QyxPQU5BWSxFQUFVWCxZQUFZWSxHQUV0QkEsRUFBVVQsYUFBYSxPQUFRLFNBQy9CUyxFQUFVVCxhQUFhLE9BQVFNLEdBQy9CRyxFQUFVSixNQUFRQSxFQUNkRSxHQUFXRSxFQUFVUixnQkFBZ0IsV0FDbEMsQ0FBQ08sRUFBV0MsS0FHZEMsRUFBWUMsR0FBY1IsRUFBWSxVQUFXLFNBQVUsU0FBUyxJQUNwRVMsRUFBWUMsR0FBY1YsRUFBWSxZQUFhLFdBQVksU0FBUyxHQUd6RVcsRUFBZW5CLFNBQVNDLGNBQWMsU0FDNUNGLEVBQUtHLFlBQVlpQixHQUNqQkEsRUFBYWQsYUFBYSxPQUFRLFVBQ2xDYyxFQUFhVCxNQUFRLFNBRXJCUyxFQUFhQyxpQkFBaUIsU0FBVUMsSUFDdEMsSUFBS2pCLEVBQVVrQixTQUFTQyxNQUFPLE9BQU8sRUFFdENGLEVBQU1HLGlCQUNOLE1BQU1sQyxFQUFPLElBQUltQyxTQUFTMUIsR0FDMUJGLEVBQVNQLEVBQUtvQyxJQUFJLFFBQVNwQyxFQUFLb0MsSUFBSSxjQXNDeEMsRUFsQ0EsU0FBa0IvQixFQUFXQyxHQUUzQkEsRUFBV0UsVUFBWSxrQkFnQ3pCLEVBN0JBLFNBQXFCSCxFQUFXQyxFQUFZYixFQUFTNEMsR0FFbkQvQixFQUFXRSxVQUFZLEdBQ3ZCYixRQUFRQyxJQUFJLGtCQUFtQnlDLEdBRy9CLE1BQU1DLEVEOURSLFNBQTBCQyxHQUN4QixJQUFLbkMsRUFBU29DLEtBQUtELEdBQUssQ0FDdEIsTUFBTUUsU0FBY0YsRUFDcEIsTUFBTSxJQUFJRyxVQUFVLDhEQUF1RSxXQUFURCxFQUFvQkYsRUFBS0UsZUFFN0csTUFBTUUsRUFBYSxJQUFJSixFQUFHSyxlQUFlQyxLQUFLQyxHQUFNQSxFQUFFQyxjQU56QyxTQU9iLE9BQU9DLE9BQU9DLGlCQUFpQk4sR0N3RGpCLENBQWlCbEQsRUFBUUosU0FDakNGLEVBQU91QixTQUFTQyxjQUFjLE9BQ3BDTCxFQUFXTSxZQUFZekIsR0FDdkJBLEVBQUtxQixVQUFZLEdBQUdmLEVBQVFOLFFBQVFtRCxJQUVwQyxNQUFNL0MsRUFBT21CLFNBQVNDLGNBQWMsT0FDcENMLEVBQVdNLFlBQVlyQixHQUN2QkEsRUFBS2lCLFVBQVlmLEVBQVFGLEtBRXpCLE1BQU0yRCxFQUFheEMsU0FBU0MsY0FBYyxPQUMxQ0wsRUFBV00sWUFBWXNDLEdBQ3ZCQSxFQUFXMUMsVUFBWWYsRUFBUUEsUUFHL0IsTUFBTTBELEVBQU16QyxTQUFTQyxjQUFjLE9BQ25DTCxFQUFXTSxZQUFZdUMsR0FDdkJBLEVBQUlwQyxhQUFhLE1BQU9zQixJQzdFcEJoQyxFQUFZSyxTQUFTMEMsY0FBYyxlQUNuQzlDLEVBQWFJLFNBQVMwQyxjQUFjLGdCQVcxQ0MsRUFBaUJoRCxFQUFXQyxHQVZMLENBQUNuQixFQUFNUCxLQUM1QnlFLEVBQWlCaEQsRUFBV0MsR0FDNUIsRUFBdUJuQixFQUFNUCxHQUFPSSxNQUFNUyxJQUN4QzZELEVBQWU3RCxFQUFRQyxTQUFTVixNQUFNdUUsSUFDcENGLEVBQW9CaEQsRUFBV0MsRUFBWWIsRUFBUzhELFNBRXJEQyxPQUFPQyxJQUNSOUQsUUFBUUMsSUFBSSxnQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWZldGNoLy4vc3JjL2dpcGh5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9ub2RlX21vZHVsZXMvY291bnRyeS1jb2RlLWVtb2ppL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy9kaXNwbGF5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gIG5ldmVyIHB1Ymxpc2ggQVBJIGtleXMgZm9yIHBhaWQgc2VydmljZXNcbmNvbnN0IGFwaUtleVdlYXRoZXIgPSAnOGQ4MzhjYWIyNjIzYmYwZTRjY2YzYzRkMzJlYWI3YmInO1xuXG4vLyAgcGFyc2Ugb3BlbiB3ZWF0aGVyIGpzb24gZm9yIHJlbGV2YW50IGRhdGFcbmZ1bmN0aW9uIHByb2Nlc3NXZWF0aGVyKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNpdHkgPSByZXNwb25zZS5uYW1lO1xuICBjb25zdCB7IGNvdW50cnkgfSA9IHJlc3BvbnNlLnN5cztcbiAgY29uc3QgeyB0ZW1wIH0gPSByZXNwb25zZS5tYWluO1xuICBjb25zdCB3ZWF0aGVyID0gcmVzcG9uc2Uud2VhdGhlclswXS5tYWluO1xuICBjb25zdCBrZXl3b3JkID0gd2VhdGhlcjtcbiAgLy8gIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgY29uc29sZS5sb2coJ0xvY2F0aW9uOiAnLCBjaXR5KTtcbiAgY29uc29sZS5sb2coJ0NvdW50cnk6ICcsIGNvdW50cnkpO1xuICBjb25zb2xlLmxvZygnVGVtcGVyYXR1cmU6ICcsIHRlbXApO1xuICBjb25zb2xlLmxvZygnV2VhdGhlcjogJywgd2VhdGhlcik7XG4gIC8vICAgIGdldEltYWdlKHJlc3BvbnNlLndlYXRoZXJbMF0ubWFpbik7XG4gIHJldHVybiB7XG4gICAgY2l0eSwgY291bnRyeSwgdGVtcCwgd2VhdGhlciwga2V5d29yZCxcbiAgfTtcbn1cblxuLy8gIHNlbmQgb3BlbiB3ZWF0aGVyIGFwaSByZXF1ZXN0XG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtsb2NhdGlvbn0mdW5pdHM9JHt1bml0c30mQVBQSUQ9JHthcGlLZXlXZWF0aGVyfWAsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpO1xuICByZXR1cm4gcHJvY2Vzc1dlYXRoZXIocmVzcG9uc2UpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldFdlYXRoZXIgfTtcbiIsIi8vICBuZXZlciBwdWJsaXNoIEFQSSBrZXlzIGZvciBwYWlkIHNlcnZpY2VzXG5jb25zdCBhcGlLZXlJbWFnZSA9ICdpZUFJbUtMQ01yM01SeUtjdDQyczhCTVZCRWRTZ0wwQSc7XG5cbi8vICBwYXJzZSBnaXBoeSBqc29uIGZvciByZWxldmFudCBkYXRhXG5mdW5jdGlvbiBwcm9jZXNzSW1hZ2UocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuaW1hZ2VzLm9yaWdpbmFsLnVybDtcbn1cblxuLy8gIHNlbmQgZ2lwaHkgYXBpIHJlcXVlc3Rcbi8vICBzZW5kIG9wZW4gd2VhdGhlciBhcGkgcmVxdWVzdFxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEltYWdlKHRlcm0pIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmdpcGh5LmNvbS92MS9naWZzL3RyYW5zbGF0ZT9hcGlfa2V5PSR7YXBpS2V5SW1hZ2V9JnM9JHt0ZXJtfWAsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2UobG9jYXRpb24sIHVuaXRzKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdEltYWdlKGxvY2F0aW9uLCB1bml0cyk7XG4gIHJldHVybiBwcm9jZXNzSW1hZ2UocmVzcG9uc2UpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldEltYWdlIH07XG4iLCJjb25zdCBDQ19SRUdFWCA9IC9eW2Etel17Mn0kL2k7XG5jb25zdCBGTEFHX0xFTkdUSCA9IDQ7XG5jb25zdCBPRkZTRVQgPSAxMjczOTc7XG5mdW5jdGlvbiBjb3VudHJ5Q29kZUVtb2ppKGNjKSB7XG4gIGlmICghQ0NfUkVHRVgudGVzdChjYykpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNjO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGNjIGFyZ3VtZW50IG11c3QgYmUgYW4gSVNPIDMxNjYtMSBhbHBoYS0yIHN0cmluZywgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gY2MgOiB0eXBlfScgaW5zdGVhZC5gKTtcbiAgfVxuICBjb25zdCBjb2RlUG9pbnRzID0gWy4uLmNjLnRvVXBwZXJDYXNlKCldLm1hcCgoYykgPT4gYy5jb2RlUG9pbnRBdCgpICsgT0ZGU0VUKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpO1xufVxuZnVuY3Rpb24gZW1vamlDb3VudHJ5Q29kZShmbGFnKSB7XG4gIGlmIChmbGFnLmxlbmd0aCAhPT0gRkxBR19MRU5HVEgpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGZsYWc7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZmxhZyBhcmd1bWVudCBtdXN0IGJlIGEgZmxhZyBlbW9qaSwgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gZmxhZyA6IHR5cGV9JyBpbnN0ZWFkLmApO1xuICB9XG4gIGNvbnN0IGNvZGVQb2ludHMgPSBbLi4uZmxhZ10ubWFwKChjKSA9PiBjLmNvZGVQb2ludEF0KCkgLSBPRkZTRVQpO1xuICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cyk7XG59XG52YXIgc3JjX2RlZmF1bHQgPSBjb3VudHJ5Q29kZUVtb2ppO1xuZXhwb3J0IHtcbiAgY291bnRyeUNvZGVFbW9qaSxcbiAgc3JjX2RlZmF1bHQgYXMgZGVmYXVsdCxcbiAgZW1vamlDb3VudHJ5Q29kZVxufTtcbiIsImltcG9ydCBjb3VudHJ5Q29kZUVtb2ppIGZyb20gJ2NvdW50cnktY29kZS1lbW9qaSc7XG5cbmZ1bmN0aW9uIHNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgY2FsbGJhY2spIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbUlucHV0cy5pbm5lclRleHQgPSAnJztcblxuICAvLyAgZm9ybVxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBkb21JbnB1dHMuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIC8vICAgIGNpdHkgaW5wdXRcbiAgY29uc3QgY2l0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChjaXR5TGFiZWwpO1xuICBjaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ0NpdHknO1xuICBjb25zdCBjaXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjaXR5TGFiZWwuYXBwZW5kQ2hpbGQoY2l0eUlucHV0KTtcbiAgY2l0eUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdjaXR5Jyk7XG4gIGNpdHlJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ3JlcXVpcmVkJyk7XG4gIC8vICAgIHVuaXQgaW5wdXQgd3JhcHBlclxuICBjb25zdCB1bml0TGFiZWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh1bml0TGFiZWxXcmFwcGVyKTtcbiAgdW5pdExhYmVsV3JhcHBlci5pbm5lclRleHQgPSAnVW5pdHMnO1xuXG4gIGNvbnN0IGNyZWF0ZVJhZGlvID0gKGxhYmVsLCB2YWx1ZSwgZ3JvdXAsIGNoZWNrZWQpID0+IHtcbiAgICBjb25zdCB1bml0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIHVuaXRMYWJlbFdyYXBwZXIuYXBwZW5kQ2hpbGQodW5pdExhYmVsKTtcbiAgICB1bml0TGFiZWwuaW5uZXJUZXh0ID0gbGFiZWw7XG4gICAgY29uc3QgdW5pdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB1bml0TGFiZWwuYXBwZW5kQ2hpbGQodW5pdElucHV0KTtcblxuICAgIHVuaXRJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICB1bml0SW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgZ3JvdXApO1xuICAgIHVuaXRJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChjaGVja2VkKSB7IHVuaXRJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTsgfVxuICAgIHJldHVybiBbdW5pdExhYmVsLCB1bml0SW5wdXRdO1xuICB9O1xuXG4gIGNvbnN0IFt1bml0TGFiZWxDLCB1bml0SW5wdXRDXSA9IGNyZWF0ZVJhZGlvKCdDZWxjaXVzJywgJ21ldHJpYycsICd1bml0cycsIHRydWUpO1xuICBjb25zdCBbdW5pdExhYmVsRiwgdW5pdElucHV0Rl0gPSBjcmVhdGVSYWRpbygnRmFyZW5oZWl0JywgJ2ltcGVyaWFsJywgJ3VuaXRzJywgZmFsc2UpO1xuXG4gIC8vICAgIHN1Ym1pdFxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gIHN1Ym1pdEJ1dHRvbi52YWx1ZSA9ICdTdWJtaXQnO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmICghY2l0eUlucHV0LnZhbGlkaXR5LnZhbGlkKSByZXR1cm4gZmFsc2U7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgY2FsbGJhY2soZGF0YS5nZXQoJ2NpdHknKSwgZGF0YS5nZXQoJ3VuaXRzJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0xvYWQoZG9tSW5wdXRzLCBkb21PdXRwdXRzKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICdOb3cgTG9hZGluZy4uLic7XG59XG5cbmZ1bmN0aW9uIHNob3dSZXN1bHRzKGRvbUlucHV0cywgZG9tT3V0cHV0cywgd2VhdGhlciwgc291cmNlKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuICBjb25zb2xlLmxvZygnaW1hZ2UgdG8gbG9hZDogJywgc291cmNlKTtcblxuICAvLyAgZGlzcGxheSB0aGUgd2VhdGhlclxuICBjb25zdCBlbW9qaSA9IGNvdW50cnlDb2RlRW1vamkod2VhdGhlci5jb3VudHJ5KTtcbiAgY29uc3QgY2l0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNpdHkpO1xuICBjaXR5LmlubmVyVGV4dCA9IGAke3dlYXRoZXIuY2l0eX0gJHtlbW9qaX1gO1xuXG4gIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9tT3V0cHV0cy5hcHBlbmRDaGlsZCh0ZW1wKTtcbiAgdGVtcC5pbm5lclRleHQgPSB3ZWF0aGVyLnRlbXA7XG5cbiAgY29uc3QgY29uZGl0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNvbmRpdGlvbnMpO1xuICBjb25kaXRpb25zLmlubmVyVGV4dCA9IHdlYXRoZXIud2VhdGhlcjtcblxuICAvLyAgICBkaXNwbGF5IHRoZSBnaXBoeSByZXN1bHRcbiAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIGRvbU91dHB1dHMuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc291cmNlKTtcbn1cblxuZnVuY3Rpb24gc2hvd0Vycm9yKGRvbUlucHV0cywgZG9tT3V0cHV0cykge1xuICBjb25zb2xlLmxvZygnZXJyb3InKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaG93SG9tZSwgc2hvd0xvYWQsIHNob3dSZXN1bHRzLCBzaG93RXJyb3IsXG59O1xuIiwiaW1wb3J0IG9wZW5XZWF0aGVyIGZyb20gJy4vd2VhdGhlcic7XG5pbXBvcnQgZ2lwaHkgZnJvbSAnLi9naXBoeSc7XG5pbXBvcnQgZGlzcGxheSBmcm9tICcuL2Rpc3BsYXknO1xuXG5jb25zdCBkb21JbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG9tLWlucHV0cycpO1xuY29uc3QgZG9tT3V0cHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb20tb3V0cHV0cycpO1xuY29uc3Qgc3VibWl0Q2FsbGJhY2sgPSAoY2l0eSwgdW5pdHMpID0+IHtcbiAgZGlzcGxheS5zaG93TG9hZChkb21JbnB1dHMsIGRvbU91dHB1dHMpO1xuICBvcGVuV2VhdGhlci5nZXRXZWF0aGVyKGNpdHksIHVuaXRzKS50aGVuKCh3ZWF0aGVyKSA9PiB7XG4gICAgZ2lwaHkuZ2V0SW1hZ2Uod2VhdGhlci5rZXl3b3JkKS50aGVuKChpbWFnZSkgPT4ge1xuICAgICAgZGlzcGxheS5zaG93UmVzdWx0cyhkb21JbnB1dHMsIGRvbU91dHB1dHMsIHdlYXRoZXIsIGltYWdlKTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2ZhaWxlZCB0byBnZXQgd2VhdGhlcicpO1xuICB9KTtcbn07XG5kaXNwbGF5LnNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgc3VibWl0Q2FsbGJhY2spO1xuIl0sIm5hbWVzIjpbImFzeW5jIiwibG9jYXRpb24iLCJ1bml0cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwidGhlbiIsImpzb24iLCJyZXF1ZXN0V2VhdGhlciIsImNpdHkiLCJuYW1lIiwiY291bnRyeSIsInN5cyIsInRlbXAiLCJtYWluIiwid2VhdGhlciIsImtleXdvcmQiLCJjb25zb2xlIiwibG9nIiwicHJvY2Vzc1dlYXRoZXIiLCJ0ZXJtIiwicmVxdWVzdEltYWdlIiwiZGF0YSIsImltYWdlcyIsIm9yaWdpbmFsIiwidXJsIiwiQ0NfUkVHRVgiLCJkb21JbnB1dHMiLCJkb21PdXRwdXRzIiwiY2FsbGJhY2siLCJpbm5lclRleHQiLCJmb3JtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjaXR5TGFiZWwiLCJjaXR5SW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJ1bml0TGFiZWxXcmFwcGVyIiwiY3JlYXRlUmFkaW8iLCJsYWJlbCIsInZhbHVlIiwiZ3JvdXAiLCJjaGVja2VkIiwidW5pdExhYmVsIiwidW5pdElucHV0IiwidW5pdExhYmVsQyIsInVuaXRJbnB1dEMiLCJ1bml0TGFiZWxGIiwidW5pdElucHV0RiIsInN1Ym1pdEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJwcmV2ZW50RGVmYXVsdCIsIkZvcm1EYXRhIiwiZ2V0Iiwic291cmNlIiwiZW1vamkiLCJjYyIsInRlc3QiLCJ0eXBlIiwiVHlwZUVycm9yIiwiY29kZVBvaW50cyIsInRvVXBwZXJDYXNlIiwibWFwIiwiYyIsImNvZGVQb2ludEF0IiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsImNvbmRpdGlvbnMiLCJpbWciLCJxdWVyeVNlbGVjdG9yIiwiZGlzcGxheSIsImdpcGh5IiwiaW1hZ2UiLCJjYXRjaCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==