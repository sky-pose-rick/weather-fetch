(()=>{"use strict";const t=async function(t,e){const n=await async function(t,e){return(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${e}&APPID=8d838cab2623bf0e4ccf3c4d32eab7bb`,{mode:"cors"})).json()}(t,e);return function(t){const e=t.name,{country:n}=t.sys,{temp:i}=t.main,c=t.weather[0].main;return{city:e,country:n,temp:i,weather:c,keyword:c}}(n)},e=async function(t){const e=await async function(t){return(await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ieAImKLCMr3MRyKct42s8BMVBEdSgL0A&s=${t}`,{mode:"cors"})).json()}(t);return function(t){return t.data.images.original.url}(e)},n=/^[a-z]{2}$/i;const i=function(t,e,n){t.innerText="";const i=document.createElement("form");t.appendChild(i);const c=document.createElement("label");i.appendChild(c),c.innerText="City";const r=document.createElement("input");c.appendChild(r),r.setAttribute("name","city"),r.toggleAttribute("required");const o=document.createElement("label");i.appendChild(o),o.innerText="Units";const a=(t,e,n,i)=>{const c=document.createElement("label");o.appendChild(c),c.innerText=t;const r=document.createElement("input");return c.appendChild(r),r.setAttribute("type","radio"),r.setAttribute("name",n),r.value=e,i&&r.toggleAttribute("checked"),[c,r]},[u,s]=a("Celcius","metric","units",!0),[d,m]=a("Farenheit","imperial","units",!1),l=document.createElement("input");i.appendChild(l),l.setAttribute("type","submit"),l.value="Submit",l.addEventListener("click",(t=>{if(!r.validity.valid)return!1;t.preventDefault();const e=new FormData(i);n(e.get("city"),e.get("units"))}))},c=function(t,e){e.innerText="Now Loading..."},r=function(t,e,i,c){e.innerText="";const r=function(t){if(!n.test(t)){const e=typeof t;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===e?t:e}' instead.`)}const e=[...t.toUpperCase()].map((t=>t.codePointAt()+127397));return String.fromCodePoint(...e)}(i.country),o=document.createElement("div");e.appendChild(o),o.innerText=`${i.city} ${r}`;const a=document.createElement("div");e.appendChild(a),a.innerText=i.temp;const u=document.createElement("div");e.appendChild(u),u.innerText=i.weather,c.then((t=>{console.log("image to load: ",t);const n=document.createElement("img");e.appendChild(n),n.setAttribute("src",t),n.setAttribute("alt",`Image of ${i.weather}`)}))},o=document.querySelector("#dom-inputs"),a=document.querySelector("#dom-outputs");i(o,a,((n,i)=>{c(o,a),t(n,i).then((t=>{console.log(t);const n=e(t.keyword);r(o,a,t,n)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmpELEVBQVFKLFNBQ2pDRixFQUFPc0IsU0FBU0MsY0FBYyxPQUNwQ0wsRUFBV00sWUFBWXhCLEdBQ3ZCQSxFQUFLb0IsVUFBWSxHQUFHZCxFQUFRTixRQUFRa0QsSUFFcEMsTUFBTTlDLEVBQU9rQixTQUFTQyxjQUFjLE9BQ3BDTCxFQUFXTSxZQUFZcEIsR0FDdkJBLEVBQUtnQixVQUFZZCxFQUFRRixLQUV6QixNQUFNMEQsRUFBYXhDLFNBQVNDLGNBQWMsT0FDMUNMLEVBQVdNLFlBQVlzQyxHQUN2QkEsRUFBVzFDLFVBQVlkLEVBQVFBLFFBRy9CMkMsRUFBY2MsTUFBTUMsSUFDbEJDLFFBQVFDLElBQUksa0JBQW1CRixHQUMvQixNQUFNRyxFQUFNN0MsU0FBU0MsY0FBYyxPQUNuQ0wsRUFBV00sWUFBWTJDLEdBQ3ZCQSxFQUFJeEMsYUFBYSxNQUFPcUMsR0FDeEJHLEVBQUl4QyxhQUFhLE1BQU8sWUFBWXJCLEVBQVFBLGVDL0UxQ1csRUFBWUssU0FBUzhDLGNBQWMsZUFDbkNsRCxFQUFhSSxTQUFTOEMsY0FBYyxnQkFhMUNDLEVBQWlCcEQsRUFBV0MsR0FaTCxDQUFDbEIsRUFBTUwsS0FDNUIwRSxFQUFpQnBELEVBQVdDLEdBQzVCLEVBQXVCbEIsRUFBTUwsR0FBT29FLE1BQU16RCxJQUN4QzJELFFBQVFDLElBQUk1RCxHQUNaLE1BQU1nRSxFQUFhQyxFQUFlakUsRUFBUUMsU0FDMUM4RCxFQUFvQnBELEVBQVdDLEVBQVlaLEVBQVNnRSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy93ZWF0aGVyLmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvZ2lwaHkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL25vZGVfbW9kdWxlcy9jb3VudHJ5LWNvZGUtZW1vamkvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWZldGNoLy4vc3JjL2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgbmV2ZXIgcHVibGlzaCBBUEkga2V5cyBmb3IgcGFpZCBzZXJ2aWNlc1xuY29uc3QgYXBpS2V5V2VhdGhlciA9ICc4ZDgzOGNhYjI2MjNiZjBlNGNjZjNjNGQzMmVhYjdiYic7XG5cbi8vICBwYXJzZSBvcGVuIHdlYXRoZXIganNvbiBmb3IgcmVsZXZhbnQgZGF0YVxuZnVuY3Rpb24gcHJvY2Vzc1dlYXRoZXIoanNvbikge1xuICBjb25zdCBjaXR5ID0ganNvbi5uYW1lO1xuICBjb25zdCB7IGNvdW50cnkgfSA9IGpzb24uc3lzO1xuICBjb25zdCB7IHRlbXAgfSA9IGpzb24ubWFpbjtcbiAgY29uc3Qgd2VhdGhlciA9IGpzb24ud2VhdGhlclswXS5tYWluO1xuICBjb25zdCBrZXl3b3JkID0gd2VhdGhlcjtcblxuICByZXR1cm4ge1xuICAgIGNpdHksIGNvdW50cnksIHRlbXAsIHdlYXRoZXIsIGtleXdvcmQsXG4gIH07XG59XG5cbi8vICBzZW5kIG9wZW4gd2VhdGhlciBhcGkgcmVxdWVzdFxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdFdlYXRoZXIobG9jYXRpb24sIHVuaXRzKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtsb2NhdGlvbn0mdW5pdHM9JHt1bml0c30mQVBQSUQ9JHthcGlLZXlXZWF0aGVyfWAsIHtcbiAgICBtb2RlOiAnY29ycycsXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG4vLyAgc2VuZCBhIHJlcXVlc3QgdGhlbiBwcm9jZXNzIHRoZSByZXN1bHRcbmFzeW5jIGZ1bmN0aW9uIGdldFdlYXRoZXIobG9jYXRpb24sIHVuaXRzKSB7XG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXF1ZXN0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpO1xuICByZXR1cm4gcHJvY2Vzc1dlYXRoZXIoanNvbik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgZ2V0V2VhdGhlciB9O1xuIiwiLy8gIG5ldmVyIHB1Ymxpc2ggQVBJIGtleXMgZm9yIHBhaWQgc2VydmljZXNcbmNvbnN0IGFwaUtleUltYWdlID0gJ2llQUltS0xDTXIzTVJ5S2N0NDJzOEJNVkJFZFNnTDBBJztcblxuLy8gIHBhcnNlIGdpcGh5IGpzb24gZm9yIHJlbGV2YW50IGRhdGFcbmZ1bmN0aW9uIHByb2Nlc3NJbWFnZShqc29uKSB7XG4gIHJldHVybiBqc29uLmRhdGEuaW1hZ2VzLm9yaWdpbmFsLnVybDtcbn1cblxuLy8gIHNlbmQgZ2lwaHkgYXBpIHJlcXVlc3Rcbi8vICBzZW5kIG9wZW4gd2VhdGhlciBhcGkgcmVxdWVzdFxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEltYWdlKHRlcm0pIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuZ2lwaHkuY29tL3YxL2dpZnMvdHJhbnNsYXRlP2FwaV9rZXk9JHthcGlLZXlJbWFnZX0mcz0ke3Rlcm19YCwge1xuICAgIG1vZGU6ICdjb3JzJyxcbiAgfSk7XG4gIHJldHVybiByZXNwb25zZS5qc29uKCk7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2UodGVybSkge1xuICBjb25zdCBqc29uID0gYXdhaXQgcmVxdWVzdEltYWdlKHRlcm0pO1xuICByZXR1cm4gcHJvY2Vzc0ltYWdlKGpzb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldEltYWdlIH07XG4iLCJjb25zdCBDQ19SRUdFWCA9IC9eW2Etel17Mn0kL2k7XG5jb25zdCBGTEFHX0xFTkdUSCA9IDQ7XG5jb25zdCBPRkZTRVQgPSAxMjczOTc7XG5mdW5jdGlvbiBjb3VudHJ5Q29kZUVtb2ppKGNjKSB7XG4gIGlmICghQ0NfUkVHRVgudGVzdChjYykpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNjO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGNjIGFyZ3VtZW50IG11c3QgYmUgYW4gSVNPIDMxNjYtMSBhbHBoYS0yIHN0cmluZywgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gY2MgOiB0eXBlfScgaW5zdGVhZC5gKTtcbiAgfVxuICBjb25zdCBjb2RlUG9pbnRzID0gWy4uLmNjLnRvVXBwZXJDYXNlKCldLm1hcCgoYykgPT4gYy5jb2RlUG9pbnRBdCgpICsgT0ZGU0VUKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpO1xufVxuZnVuY3Rpb24gZW1vamlDb3VudHJ5Q29kZShmbGFnKSB7XG4gIGlmIChmbGFnLmxlbmd0aCAhPT0gRkxBR19MRU5HVEgpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGZsYWc7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZmxhZyBhcmd1bWVudCBtdXN0IGJlIGEgZmxhZyBlbW9qaSwgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gZmxhZyA6IHR5cGV9JyBpbnN0ZWFkLmApO1xuICB9XG4gIGNvbnN0IGNvZGVQb2ludHMgPSBbLi4uZmxhZ10ubWFwKChjKSA9PiBjLmNvZGVQb2ludEF0KCkgLSBPRkZTRVQpO1xuICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cyk7XG59XG52YXIgc3JjX2RlZmF1bHQgPSBjb3VudHJ5Q29kZUVtb2ppO1xuZXhwb3J0IHtcbiAgY291bnRyeUNvZGVFbW9qaSxcbiAgc3JjX2RlZmF1bHQgYXMgZGVmYXVsdCxcbiAgZW1vamlDb3VudHJ5Q29kZVxufTtcbiIsImltcG9ydCBjb3VudHJ5Q29kZUVtb2ppIGZyb20gJ2NvdW50cnktY29kZS1lbW9qaSc7XG5cbmZ1bmN0aW9uIHNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgY2FsbGJhY2spIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbUlucHV0cy5pbm5lclRleHQgPSAnJztcblxuICAvLyAgZm9ybVxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBkb21JbnB1dHMuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIC8vICAgIGNpdHkgaW5wdXRcbiAgY29uc3QgY2l0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChjaXR5TGFiZWwpO1xuICBjaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ0NpdHknO1xuICBjb25zdCBjaXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjaXR5TGFiZWwuYXBwZW5kQ2hpbGQoY2l0eUlucHV0KTtcbiAgY2l0eUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdjaXR5Jyk7XG4gIGNpdHlJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ3JlcXVpcmVkJyk7XG4gIC8vICAgIHVuaXQgaW5wdXQgd3JhcHBlclxuICBjb25zdCB1bml0TGFiZWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh1bml0TGFiZWxXcmFwcGVyKTtcbiAgdW5pdExhYmVsV3JhcHBlci5pbm5lclRleHQgPSAnVW5pdHMnO1xuXG4gIGNvbnN0IGNyZWF0ZVJhZGlvID0gKGxhYmVsLCB2YWx1ZSwgZ3JvdXAsIGNoZWNrZWQpID0+IHtcbiAgICBjb25zdCB1bml0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIHVuaXRMYWJlbFdyYXBwZXIuYXBwZW5kQ2hpbGQodW5pdExhYmVsKTtcbiAgICB1bml0TGFiZWwuaW5uZXJUZXh0ID0gbGFiZWw7XG4gICAgY29uc3QgdW5pdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB1bml0TGFiZWwuYXBwZW5kQ2hpbGQodW5pdElucHV0KTtcblxuICAgIHVuaXRJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICB1bml0SW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgZ3JvdXApO1xuICAgIHVuaXRJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChjaGVja2VkKSB7IHVuaXRJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTsgfVxuICAgIHJldHVybiBbdW5pdExhYmVsLCB1bml0SW5wdXRdO1xuICB9O1xuXG4gIGNvbnN0IFt1bml0TGFiZWxDLCB1bml0SW5wdXRDXSA9IGNyZWF0ZVJhZGlvKCdDZWxjaXVzJywgJ21ldHJpYycsICd1bml0cycsIHRydWUpO1xuICBjb25zdCBbdW5pdExhYmVsRiwgdW5pdElucHV0Rl0gPSBjcmVhdGVSYWRpbygnRmFyZW5oZWl0JywgJ2ltcGVyaWFsJywgJ3VuaXRzJywgZmFsc2UpO1xuXG4gIC8vICAgIHN1Ym1pdFxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gIHN1Ym1pdEJ1dHRvbi52YWx1ZSA9ICdTdWJtaXQnO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmICghY2l0eUlucHV0LnZhbGlkaXR5LnZhbGlkKSByZXR1cm4gZmFsc2U7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgY2FsbGJhY2soZGF0YS5nZXQoJ2NpdHknKSwgZGF0YS5nZXQoJ3VuaXRzJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0xvYWQoZG9tSW5wdXRzLCBkb21PdXRwdXRzKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICdOb3cgTG9hZGluZy4uLic7XG59XG5cbmZ1bmN0aW9uIHNob3dSZXN1bHRzKGRvbUlucHV0cywgZG9tT3V0cHV0cywgd2VhdGhlciwgc291cmNlUHJvbWlzZSkge1xuICAvLyAgZXJhc2Ugb2xkIGNvbnRlbnRcbiAgZG9tT3V0cHV0cy5pbm5lclRleHQgPSAnJztcblxuICAvLyAgZGlzcGxheSB0aGUgd2VhdGhlclxuICBjb25zdCBlbW9qaSA9IGNvdW50cnlDb2RlRW1vamkod2VhdGhlci5jb3VudHJ5KTtcbiAgY29uc3QgY2l0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNpdHkpO1xuICBjaXR5LmlubmVyVGV4dCA9IGAke3dlYXRoZXIuY2l0eX0gJHtlbW9qaX1gO1xuXG4gIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9tT3V0cHV0cy5hcHBlbmRDaGlsZCh0ZW1wKTtcbiAgdGVtcC5pbm5lclRleHQgPSB3ZWF0aGVyLnRlbXA7XG5cbiAgY29uc3QgY29uZGl0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNvbmRpdGlvbnMpO1xuICBjb25kaXRpb25zLmlubmVyVGV4dCA9IHdlYXRoZXIud2VhdGhlcjtcblxuICAvLyAgICBkaXNwbGF5IHRoZSBnaXBoeSByZXN1bHRcbiAgc291cmNlUHJvbWlzZS50aGVuKChzb3VyY2UpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaW1hZ2UgdG8gbG9hZDogJywgc291cmNlKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGltZyk7XG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc291cmNlKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgSW1hZ2Ugb2YgJHt3ZWF0aGVyLndlYXRoZXJ9YCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93RXJyb3IoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCBzZWFyY2hUZXJtKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGVycm9yTWVzc2FnZSk7XG4gIGVycm9yTWVzc2FnZS5pbm5lclRleHQgPSAnRmFpbGVkIHRvIGZpbmQgcmVzdWx0cy4gUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzIGFuZCB0cnkgYWdhaW4nO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNob3dIb21lLCBzaG93TG9hZCwgc2hvd1Jlc3VsdHMsIHNob3dFcnJvcixcbn07XG4iLCJpbXBvcnQgb3BlbldlYXRoZXIgZnJvbSAnLi93ZWF0aGVyJztcbmltcG9ydCBnaXBoeSBmcm9tICcuL2dpcGh5JztcbmltcG9ydCBkaXNwbGF5IGZyb20gJy4vZGlzcGxheSc7XG5cbmNvbnN0IGRvbUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb20taW5wdXRzJyk7XG5jb25zdCBkb21PdXRwdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RvbS1vdXRwdXRzJyk7XG5jb25zdCBzdWJtaXRDYWxsYmFjayA9IChjaXR5LCB1bml0cykgPT4ge1xuICBkaXNwbGF5LnNob3dMb2FkKGRvbUlucHV0cywgZG9tT3V0cHV0cyk7XG4gIG9wZW5XZWF0aGVyLmdldFdlYXRoZXIoY2l0eSwgdW5pdHMpLnRoZW4oKHdlYXRoZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZyh3ZWF0aGVyKTtcbiAgICBjb25zdCBpbWdQcm9taXNlID0gZ2lwaHkuZ2V0SW1hZ2Uod2VhdGhlci5rZXl3b3JkKTtcbiAgICBkaXNwbGF5LnNob3dSZXN1bHRzKGRvbUlucHV0cywgZG9tT3V0cHV0cywgd2VhdGhlciwgaW1nUHJvbWlzZSk7XG4gIH0pOy8qICwgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIGRpc3BsYXkuc2hvd0Vycm9yKGRvbUlucHV0cywgZG9tT3V0cHV0cyk7XG4gICAgZXJyb3IuZGVmZXIoKTtcbiAgfSk7ICovXG59O1xuZGlzcGxheS5zaG93SG9tZShkb21JbnB1dHMsIGRvbU91dHB1dHMsIHN1Ym1pdENhbGxiYWNrKTtcbiJdLCJuYW1lcyI6WyJhc3luYyIsImxvY2F0aW9uIiwidW5pdHMiLCJqc29uIiwiZmV0Y2giLCJtb2RlIiwicmVxdWVzdFdlYXRoZXIiLCJjaXR5IiwibmFtZSIsImNvdW50cnkiLCJzeXMiLCJ0ZW1wIiwibWFpbiIsIndlYXRoZXIiLCJrZXl3b3JkIiwicHJvY2Vzc1dlYXRoZXIiLCJ0ZXJtIiwicmVxdWVzdEltYWdlIiwiZGF0YSIsImltYWdlcyIsIm9yaWdpbmFsIiwidXJsIiwicHJvY2Vzc0ltYWdlIiwiQ0NfUkVHRVgiLCJkb21JbnB1dHMiLCJkb21PdXRwdXRzIiwiY2FsbGJhY2siLCJpbm5lclRleHQiLCJmb3JtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjaXR5TGFiZWwiLCJjaXR5SW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJ1bml0TGFiZWxXcmFwcGVyIiwiY3JlYXRlUmFkaW8iLCJsYWJlbCIsInZhbHVlIiwiZ3JvdXAiLCJjaGVja2VkIiwidW5pdExhYmVsIiwidW5pdElucHV0IiwidW5pdExhYmVsQyIsInVuaXRJbnB1dEMiLCJ1bml0TGFiZWxGIiwidW5pdElucHV0RiIsInN1Ym1pdEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJwcmV2ZW50RGVmYXVsdCIsIkZvcm1EYXRhIiwiZ2V0Iiwic291cmNlUHJvbWlzZSIsImVtb2ppIiwiY2MiLCJ0ZXN0IiwidHlwZSIsIlR5cGVFcnJvciIsImNvZGVQb2ludHMiLCJ0b1VwcGVyQ2FzZSIsIm1hcCIsImMiLCJjb2RlUG9pbnRBdCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJjb25kaXRpb25zIiwidGhlbiIsInNvdXJjZSIsImNvbnNvbGUiLCJsb2ciLCJpbWciLCJxdWVyeVNlbGVjdG9yIiwiZGlzcGxheSIsImltZ1Byb21pc2UiLCJnaXBoeSJdLCJzb3VyY2VSb290IjoiIn0=