(()=>{"use strict";const t=async function(t,e){const n=await async function(t,e){return await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${e}&APPID=8d838cab2623bf0e4ccf3c4d32eab7bb`,{mode:"cors"}).then((t=>t.json())).then((t=>t))}(t,e);return function(t){const e=t.name,{country:n}=t.sys,{temp:i}=t.main,c=t.weather[0].main;return{city:e,country:n,temp:i,weather:c,keyword:c}}(n)},e=async function(t){const e=await async function(t){return await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ieAImKLCMr3MRyKct42s8BMVBEdSgL0A&s=${t}`,{mode:"cors"}).then((t=>t.json())).then((t=>t))}(t);return function(t){return t.data.images.original.url}(e)},n=/^[a-z]{2}$/i;const i=function(t,e,n){t.innerText="";const i=document.createElement("form");t.appendChild(i);const c=document.createElement("label");i.appendChild(c),c.innerText="City";const r=document.createElement("input");c.appendChild(r),r.setAttribute("name","city"),r.toggleAttribute("required");const o=document.createElement("label");i.appendChild(o),o.innerText="Units";const a=(t,e,n,i)=>{const c=document.createElement("label");o.appendChild(c),c.innerText=t;const r=document.createElement("input");return c.appendChild(r),r.setAttribute("type","radio"),r.setAttribute("name",n),r.value=e,i&&r.toggleAttribute("checked"),[c,r]},[u,s]=a("Celcius","metric","units",!0),[d,m]=a("Farenheit","imperial","units",!1),l=document.createElement("input");i.appendChild(l),l.setAttribute("type","submit"),l.value="Submit",l.addEventListener("click",(t=>{if(!r.validity.valid)return!1;t.preventDefault();const e=new FormData(i);n(e.get("city"),e.get("units"))}))},c=function(t,e){e.innerText="Now Loading..."},r=function(t,e,i,c){e.innerText="";const r=function(t){if(!n.test(t)){const e=typeof t;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${"string"===e?t:e}' instead.`)}const e=[...t.toUpperCase()].map((t=>t.codePointAt()+127397));return String.fromCodePoint(...e)}(i.country),o=document.createElement("div");e.appendChild(o),o.innerText=`${i.city} ${r}`;const a=document.createElement("div");e.appendChild(a),a.innerText=i.temp;const u=document.createElement("div");e.appendChild(u),u.innerText=i.weather,c.then((t=>{console.log("image to load: ",t);const n=document.createElement("img");e.appendChild(n),n.setAttribute("src",t),n.setAttribute("alt",`Image of ${i.weather}`)}))},o=document.querySelector("#dom-inputs"),a=document.querySelector("#dom-outputs");i(o,a,((n,i)=>{c(o,a),t(n,i).then((t=>{console.log(t);const n=e(t.keyword);r(o,a,t,n)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlKLEVBQUdLLGVBQWVDLEtBQUtDLEdBQU1BLEVBQUVDLGNBTnpDLFNBT2IsT0FBT0MsT0FBT0MsaUJBQWlCTixHQ3VEakIsQ0FBaUJqRCxFQUFRSixTQUNqQ0YsRUFBT3NCLFNBQVNDLGNBQWMsT0FDcENMLEVBQVdNLFlBQVl4QixHQUN2QkEsRUFBS29CLFVBQVksR0FBR2QsRUFBUU4sUUFBUWtELElBRXBDLE1BQU05QyxFQUFPa0IsU0FBU0MsY0FBYyxPQUNwQ0wsRUFBV00sWUFBWXBCLEdBQ3ZCQSxFQUFLZ0IsVUFBWWQsRUFBUUYsS0FFekIsTUFBTTBELEVBQWF4QyxTQUFTQyxjQUFjLE9BQzFDTCxFQUFXTSxZQUFZc0MsR0FDdkJBLEVBQVcxQyxVQUFZZCxFQUFRQSxRQUcvQjJDLEVBQWNwRCxNQUFNa0UsSUFDbEJDLFFBQVFDLElBQUksa0JBQW1CRixHQUMvQixNQUFNRyxFQUFNNUMsU0FBU0MsY0FBYyxPQUNuQ0wsRUFBV00sWUFBWTBDLEdBQ3ZCQSxFQUFJdkMsYUFBYSxNQUFPb0MsR0FDeEJHLEVBQUl2QyxhQUFhLE1BQU8sWUFBWXJCLEVBQVFBLGVDL0UxQ1csRUFBWUssU0FBUzZDLGNBQWMsZUFDbkNqRCxFQUFhSSxTQUFTNkMsY0FBYyxnQkFhMUNDLEVBQWlCbkQsRUFBV0MsR0FaTCxDQUFDbEIsRUFBTVAsS0FDNUIyRSxFQUFpQm5ELEVBQVdDLEdBQzVCLEVBQXVCbEIsRUFBTVAsR0FBT0ksTUFBTVMsSUFDeEMwRCxRQUFRQyxJQUFJM0QsR0FDWixNQUFNK0QsRUFBYUMsRUFBZWhFLEVBQVFDLFNBQzFDNkQsRUFBb0JuRCxFQUFXQyxFQUFZWixFQUFTK0QsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWZldGNoLy4vc3JjL2dpcGh5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9ub2RlX21vZHVsZXMvY291bnRyeS1jb2RlLWVtb2ppL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1mZXRjaC8uL3NyYy9kaXNwbGF5LmpzIiwid2VicGFjazovL3dlYXRoZXItZmV0Y2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gIG5ldmVyIHB1Ymxpc2ggQVBJIGtleXMgZm9yIHBhaWQgc2VydmljZXNcbmNvbnN0IGFwaUtleVdlYXRoZXIgPSAnOGQ4MzhjYWIyNjIzYmYwZTRjY2YzYzRkMzJlYWI3YmInO1xuXG4vLyAgcGFyc2Ugb3BlbiB3ZWF0aGVyIGpzb24gZm9yIHJlbGV2YW50IGRhdGFcbmZ1bmN0aW9uIHByb2Nlc3NXZWF0aGVyKGpzb24pIHtcbiAgY29uc3QgY2l0eSA9IGpzb24ubmFtZTtcbiAgY29uc3QgeyBjb3VudHJ5IH0gPSBqc29uLnN5cztcbiAgY29uc3QgeyB0ZW1wIH0gPSBqc29uLm1haW47XG4gIGNvbnN0IHdlYXRoZXIgPSBqc29uLndlYXRoZXJbMF0ubWFpbjtcbiAgY29uc3Qga2V5d29yZCA9IHdlYXRoZXI7XG5cbiAgcmV0dXJuIHtcbiAgICBjaXR5LCBjb3VudHJ5LCB0ZW1wLCB3ZWF0aGVyLCBrZXl3b3JkLFxuICB9O1xufVxuXG4vLyAgc2VuZCBvcGVuIHdlYXRoZXIgYXBpIHJlcXVlc3RcbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RXZWF0aGVyKGxvY2F0aW9uLCB1bml0cykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2xvY2F0aW9ufSZ1bml0cz0ke3VuaXRzfSZBUFBJRD0ke2FwaUtleVdlYXRoZXJ9YCwge1xuICAgIG1vZGU6ICdjb3JzJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbigoanNvbikgPT4ganNvbik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihsb2NhdGlvbiwgdW5pdHMpIHtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlcXVlc3RXZWF0aGVyKGxvY2F0aW9uLCB1bml0cyk7XG4gIHJldHVybiBwcm9jZXNzV2VhdGhlcihqc29uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBnZXRXZWF0aGVyIH07XG4iLCIvLyAgbmV2ZXIgcHVibGlzaCBBUEkga2V5cyBmb3IgcGFpZCBzZXJ2aWNlc1xuY29uc3QgYXBpS2V5SW1hZ2UgPSAnaWVBSW1LTENNcjNNUnlLY3Q0MnM4Qk1WQkVkU2dMMEEnO1xuXG4vLyAgcGFyc2UgZ2lwaHkganNvbiBmb3IgcmVsZXZhbnQgZGF0YVxuZnVuY3Rpb24gcHJvY2Vzc0ltYWdlKGpzb24pIHtcbiAgcmV0dXJuIGpzb24uZGF0YS5pbWFnZXMub3JpZ2luYWwudXJsO1xufVxuXG4vLyAgc2VuZCBnaXBoeSBhcGkgcmVxdWVzdFxuLy8gIHNlbmQgb3BlbiB3ZWF0aGVyIGFwaSByZXF1ZXN0XG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0SW1hZ2UodGVybSkge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuZ2lwaHkuY29tL3YxL2dpZnMvdHJhbnNsYXRlP2FwaV9rZXk9JHthcGlLZXlJbWFnZX0mcz0ke3Rlcm19YCwge1xuICAgIG1vZGU6ICdjb3JzJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbigoanNvbikgPT4ganNvbik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vICBzZW5kIGEgcmVxdWVzdCB0aGVuIHByb2Nlc3MgdGhlIHJlc3VsdFxuYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2UodGVybSkge1xuICBjb25zdCBqc29uID0gYXdhaXQgcmVxdWVzdEltYWdlKHRlcm0pO1xuICByZXR1cm4gcHJvY2Vzc0ltYWdlKGpzb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGdldEltYWdlIH07XG4iLCJjb25zdCBDQ19SRUdFWCA9IC9eW2Etel17Mn0kL2k7XG5jb25zdCBGTEFHX0xFTkdUSCA9IDQ7XG5jb25zdCBPRkZTRVQgPSAxMjczOTc7XG5mdW5jdGlvbiBjb3VudHJ5Q29kZUVtb2ppKGNjKSB7XG4gIGlmICghQ0NfUkVHRVgudGVzdChjYykpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNjO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGNjIGFyZ3VtZW50IG11c3QgYmUgYW4gSVNPIDMxNjYtMSBhbHBoYS0yIHN0cmluZywgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gY2MgOiB0eXBlfScgaW5zdGVhZC5gKTtcbiAgfVxuICBjb25zdCBjb2RlUG9pbnRzID0gWy4uLmNjLnRvVXBwZXJDYXNlKCldLm1hcCgoYykgPT4gYy5jb2RlUG9pbnRBdCgpICsgT0ZGU0VUKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpO1xufVxuZnVuY3Rpb24gZW1vamlDb3VudHJ5Q29kZShmbGFnKSB7XG4gIGlmIChmbGFnLmxlbmd0aCAhPT0gRkxBR19MRU5HVEgpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGZsYWc7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZmxhZyBhcmd1bWVudCBtdXN0IGJlIGEgZmxhZyBlbW9qaSwgYnV0IGdvdCAnJHt0eXBlID09PSBcInN0cmluZ1wiID8gZmxhZyA6IHR5cGV9JyBpbnN0ZWFkLmApO1xuICB9XG4gIGNvbnN0IGNvZGVQb2ludHMgPSBbLi4uZmxhZ10ubWFwKChjKSA9PiBjLmNvZGVQb2ludEF0KCkgLSBPRkZTRVQpO1xuICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cyk7XG59XG52YXIgc3JjX2RlZmF1bHQgPSBjb3VudHJ5Q29kZUVtb2ppO1xuZXhwb3J0IHtcbiAgY291bnRyeUNvZGVFbW9qaSxcbiAgc3JjX2RlZmF1bHQgYXMgZGVmYXVsdCxcbiAgZW1vamlDb3VudHJ5Q29kZVxufTtcbiIsImltcG9ydCBjb3VudHJ5Q29kZUVtb2ppIGZyb20gJ2NvdW50cnktY29kZS1lbW9qaSc7XG5cbmZ1bmN0aW9uIHNob3dIb21lKGRvbUlucHV0cywgZG9tT3V0cHV0cywgY2FsbGJhY2spIHtcbiAgLy8gIGVyYXNlIG9sZCBjb250ZW50XG4gIGRvbUlucHV0cy5pbm5lclRleHQgPSAnJztcblxuICAvLyAgZm9ybVxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBkb21JbnB1dHMuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIC8vICAgIGNpdHkgaW5wdXRcbiAgY29uc3QgY2l0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChjaXR5TGFiZWwpO1xuICBjaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ0NpdHknO1xuICBjb25zdCBjaXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBjaXR5TGFiZWwuYXBwZW5kQ2hpbGQoY2l0eUlucHV0KTtcbiAgY2l0eUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdjaXR5Jyk7XG4gIGNpdHlJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ3JlcXVpcmVkJyk7XG4gIC8vICAgIHVuaXQgaW5wdXQgd3JhcHBlclxuICBjb25zdCB1bml0TGFiZWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh1bml0TGFiZWxXcmFwcGVyKTtcbiAgdW5pdExhYmVsV3JhcHBlci5pbm5lclRleHQgPSAnVW5pdHMnO1xuXG4gIGNvbnN0IGNyZWF0ZVJhZGlvID0gKGxhYmVsLCB2YWx1ZSwgZ3JvdXAsIGNoZWNrZWQpID0+IHtcbiAgICBjb25zdCB1bml0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIHVuaXRMYWJlbFdyYXBwZXIuYXBwZW5kQ2hpbGQodW5pdExhYmVsKTtcbiAgICB1bml0TGFiZWwuaW5uZXJUZXh0ID0gbGFiZWw7XG4gICAgY29uc3QgdW5pdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB1bml0TGFiZWwuYXBwZW5kQ2hpbGQodW5pdElucHV0KTtcblxuICAgIHVuaXRJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICB1bml0SW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgZ3JvdXApO1xuICAgIHVuaXRJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChjaGVja2VkKSB7IHVuaXRJbnB1dC50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTsgfVxuICAgIHJldHVybiBbdW5pdExhYmVsLCB1bml0SW5wdXRdO1xuICB9O1xuXG4gIGNvbnN0IFt1bml0TGFiZWxDLCB1bml0SW5wdXRDXSA9IGNyZWF0ZVJhZGlvKCdDZWxjaXVzJywgJ21ldHJpYycsICd1bml0cycsIHRydWUpO1xuICBjb25zdCBbdW5pdExhYmVsRiwgdW5pdElucHV0Rl0gPSBjcmVhdGVSYWRpbygnRmFyZW5oZWl0JywgJ2ltcGVyaWFsJywgJ3VuaXRzJywgZmFsc2UpO1xuXG4gIC8vICAgIHN1Ym1pdFxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gIHN1Ym1pdEJ1dHRvbi52YWx1ZSA9ICdTdWJtaXQnO1xuXG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGlmICghY2l0eUlucHV0LnZhbGlkaXR5LnZhbGlkKSByZXR1cm4gZmFsc2U7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgY2FsbGJhY2soZGF0YS5nZXQoJ2NpdHknKSwgZGF0YS5nZXQoJ3VuaXRzJykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0xvYWQoZG9tSW5wdXRzLCBkb21PdXRwdXRzKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICdOb3cgTG9hZGluZy4uLic7XG59XG5cbmZ1bmN0aW9uIHNob3dSZXN1bHRzKGRvbUlucHV0cywgZG9tT3V0cHV0cywgd2VhdGhlciwgc291cmNlUHJvbWlzZSkge1xuICAvLyAgZXJhc2Ugb2xkIGNvbnRlbnRcbiAgZG9tT3V0cHV0cy5pbm5lclRleHQgPSAnJztcblxuICAvLyAgZGlzcGxheSB0aGUgd2VhdGhlclxuICBjb25zdCBlbW9qaSA9IGNvdW50cnlDb2RlRW1vamkod2VhdGhlci5jb3VudHJ5KTtcbiAgY29uc3QgY2l0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNpdHkpO1xuICBjaXR5LmlubmVyVGV4dCA9IGAke3dlYXRoZXIuY2l0eX0gJHtlbW9qaX1gO1xuXG4gIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9tT3V0cHV0cy5hcHBlbmRDaGlsZCh0ZW1wKTtcbiAgdGVtcC5pbm5lclRleHQgPSB3ZWF0aGVyLnRlbXA7XG5cbiAgY29uc3QgY29uZGl0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGNvbmRpdGlvbnMpO1xuICBjb25kaXRpb25zLmlubmVyVGV4dCA9IHdlYXRoZXIud2VhdGhlcjtcblxuICAvLyAgICBkaXNwbGF5IHRoZSBnaXBoeSByZXN1bHRcbiAgc291cmNlUHJvbWlzZS50aGVuKChzb3VyY2UpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaW1hZ2UgdG8gbG9hZDogJywgc291cmNlKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGltZyk7XG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgc291cmNlKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgSW1hZ2Ugb2YgJHt3ZWF0aGVyLndlYXRoZXJ9YCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93RXJyb3IoZG9tSW5wdXRzLCBkb21PdXRwdXRzLCBzZWFyY2hUZXJtKSB7XG4gIC8vICBlcmFzZSBvbGQgY29udGVudFxuICBkb21PdXRwdXRzLmlubmVyVGV4dCA9ICcnO1xuXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb21PdXRwdXRzLmFwcGVuZENoaWxkKGVycm9yTWVzc2FnZSk7XG4gIGVycm9yTWVzc2FnZS5pbm5lclRleHQgPSAnRmFpbGVkIHRvIGZpbmQgcmVzdWx0cy4gUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzIGFuZCB0cnkgYWdhaW4nO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNob3dIb21lLCBzaG93TG9hZCwgc2hvd1Jlc3VsdHMsIHNob3dFcnJvcixcbn07XG4iLCJpbXBvcnQgb3BlbldlYXRoZXIgZnJvbSAnLi93ZWF0aGVyJztcbmltcG9ydCBnaXBoeSBmcm9tICcuL2dpcGh5JztcbmltcG9ydCBkaXNwbGF5IGZyb20gJy4vZGlzcGxheSc7XG5cbmNvbnN0IGRvbUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb20taW5wdXRzJyk7XG5jb25zdCBkb21PdXRwdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RvbS1vdXRwdXRzJyk7XG5jb25zdCBzdWJtaXRDYWxsYmFjayA9IChjaXR5LCB1bml0cykgPT4ge1xuICBkaXNwbGF5LnNob3dMb2FkKGRvbUlucHV0cywgZG9tT3V0cHV0cyk7XG4gIG9wZW5XZWF0aGVyLmdldFdlYXRoZXIoY2l0eSwgdW5pdHMpLnRoZW4oKHdlYXRoZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZyh3ZWF0aGVyKTtcbiAgICBjb25zdCBpbWdQcm9taXNlID0gZ2lwaHkuZ2V0SW1hZ2Uod2VhdGhlci5rZXl3b3JkKTtcbiAgICBkaXNwbGF5LnNob3dSZXN1bHRzKGRvbUlucHV0cywgZG9tT3V0cHV0cywgd2VhdGhlciwgaW1nUHJvbWlzZSk7XG4gIH0pOy8qICwgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIGRpc3BsYXkuc2hvd0Vycm9yKGRvbUlucHV0cywgZG9tT3V0cHV0cyk7XG4gICAgZXJyb3IuZGVmZXIoKTtcbiAgfSk7ICovXG59O1xuZGlzcGxheS5zaG93SG9tZShkb21JbnB1dHMsIGRvbU91dHB1dHMsIHN1Ym1pdENhbGxiYWNrKTtcbiJdLCJuYW1lcyI6WyJhc3luYyIsImxvY2F0aW9uIiwidW5pdHMiLCJqc29uIiwiZmV0Y2giLCJtb2RlIiwidGhlbiIsInJlc3BvbnNlIiwicmVxdWVzdFdlYXRoZXIiLCJjaXR5IiwibmFtZSIsImNvdW50cnkiLCJzeXMiLCJ0ZW1wIiwibWFpbiIsIndlYXRoZXIiLCJrZXl3b3JkIiwicHJvY2Vzc1dlYXRoZXIiLCJ0ZXJtIiwicmVxdWVzdEltYWdlIiwiZGF0YSIsImltYWdlcyIsIm9yaWdpbmFsIiwidXJsIiwicHJvY2Vzc0ltYWdlIiwiQ0NfUkVHRVgiLCJkb21JbnB1dHMiLCJkb21PdXRwdXRzIiwiY2FsbGJhY2siLCJpbm5lclRleHQiLCJmb3JtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjaXR5TGFiZWwiLCJjaXR5SW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJ1bml0TGFiZWxXcmFwcGVyIiwiY3JlYXRlUmFkaW8iLCJsYWJlbCIsInZhbHVlIiwiZ3JvdXAiLCJjaGVja2VkIiwidW5pdExhYmVsIiwidW5pdElucHV0IiwidW5pdExhYmVsQyIsInVuaXRJbnB1dEMiLCJ1bml0TGFiZWxGIiwidW5pdElucHV0RiIsInN1Ym1pdEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJwcmV2ZW50RGVmYXVsdCIsIkZvcm1EYXRhIiwiZ2V0Iiwic291cmNlUHJvbWlzZSIsImVtb2ppIiwiY2MiLCJ0ZXN0IiwidHlwZSIsIlR5cGVFcnJvciIsImNvZGVQb2ludHMiLCJ0b1VwcGVyQ2FzZSIsIm1hcCIsImMiLCJjb2RlUG9pbnRBdCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJjb25kaXRpb25zIiwic291cmNlIiwiY29uc29sZSIsImxvZyIsImltZyIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNwbGF5IiwiaW1nUHJvbWlzZSIsImdpcGh5Il0sInNvdXJjZVJvb3QiOiIifQ==